import{a as dt,b as pt,c as vt}from"./chunk-3W6TA2SD.js";import{a as K,b as ee,c as te}from"./chunk-INDHBAAU.js";import{a as ht,b as ft}from"./chunk-WFY6EWXF.js";import"./chunk-PIEP4UTV.js";import{b as nt}from"./chunk-TYYOUOS3.js";import{c as bt,d as kt}from"./chunk-BQ6IRVFE.js";import{c as De,d as Ae,f as Ne}from"./chunk-NQKSDALU.js";import{a as st,d as ct,e as lt,g as mt}from"./chunk-FGMLFNZ2.js";import{b as $e}from"./chunk-C4WKST7H.js";import{a as oe}from"./chunk-3TDJJXQD.js";import{a as gt,b as _t,c as ut}from"./chunk-TH6PUXZV.js";import{a as Q,b as rt,c as Z,d as at,g as J}from"./chunk-56UCSB4U.js";import{b as H,d as ue,f as G,g as qe,i as Xe,j as Ue,k as He,l as Ge,n as We,o as Ye,p as Qe}from"./chunk-XCLEEEGU.js";import{a as Ze,b as Je,c as Ke,d as et,e as tt,f as ot,g as W}from"./chunk-2JQEKP5E.js";import"./chunk-26UILUH3.js";import{$ as f,$a as v,Aa as le,Ab as E,Bb as y,Ca as s,Cb as U,Db as c,Eb as C,Fa as xe,Fb as b,Fc as je,Ga as M,Gb as pe,Hb as Ee,Ib as Te,Jb as Be,Lb as ge,Na as x,Oa as N,Ob as Fe,Pa as ye,Qb as Le,Ra as _,Sa as P,Ta as Me,W as ke,X as A,Z as Ce,_a as me,a as ve,ab as Pe,ac as ze,bb as we,cb as d,d as I,db as n,dc as _e,ea as p,eb as r,ed as D,fa as g,fb as w,gb as j,gd as it,hb as $,ib as V,ja as se,mb as k,oa as ce,ob as u,oc as Re,pb as m,pc as O,pd as B,qb as Oe,rb as de,rd as Y,sb as Se,sd as F,tb as Ie,tc as Ve,td as L,ub as q,uc as S,ud as z,va as T,vb as X}from"./chunk-MML5RVMT.js";var Et=["*",[["mat-toolbar-row"]]],Tt=["*","mat-toolbar-row"],Bt=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275dir=ye({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),Ct=(()=>{class i{_elementRef=f(T);_platform=f(je);_document=f(se);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=x({type:i,selectors:[["mat-toolbar"]],contentQueries:function(o,a,l){if(o&1&&Se(l,Bt,5),o&2){let h;q(h=X())&&(a._toolbarRows=h)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(o,a){o&2&&(U(a.color?"mat-"+a.color:""),y("mat-toolbar-multiple-rows",a._toolbarRows.length>0)("mat-toolbar-single-row",a._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Tt,decls:2,vars:0,template:function(o,a){o&1&&(Oe(Et),de(0),de(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return i})();var xt=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=N({type:i});static \u0275inj=A({imports:[D,D]})}return i})();function Lt(i,t){i&1&&V(0,"div",2)}var zt=new Ce("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var Mt=(()=>{class i{_elementRef=f(T);_ngZone=f(Me);_changeDetectorRef=f(ze);_renderer=f(xe);_cleanupTransitionEnd;constructor(){let e=it(),o=f(zt,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),o&&(o.color&&(this.color=this._defaultColor=o.color),this.mode=o.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=yt(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=yt(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new P;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(o){return new(o||i)};static \u0275cmp=x({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(o,a){o&2&&(v("aria-valuenow",a._isIndeterminate()?null:a.value)("mode",a.mode),U("mat-"+a.color),y("_mat-animation-noopable",a._isNoopAnimation)("mdc-linear-progress--animation-ready",!a._isNoopAnimation)("mdc-linear-progress--indeterminate",a._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",_e],bufferValue:[2,"bufferValue","bufferValue",_e],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(o,a){o&1&&(j(0,"div",0),V(1,"div",1),Pe(2,Lt,1,0,"div",2),$(),j(3,"div",3),V(4,"span",4),$(),j(5,"div",5),V(6,"span",4),$()),o&2&&(s(),E("flex-basis",a._getBufferBarFlexBasis()),s(),we(a.mode==="buffer"?2:-1),s(),E("transform",a._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return i})();function yt(i,t=0,e=100){return Math.max(t,Math.min(e,i))}var Pt=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=N({type:i});static \u0275inj=A({imports:[D]})}return i})();function At(i,t){i&1&&w(0,"mat-progress-bar",17)}function Nt(i,t){if(i&1){let e=k();n(0,"button",18),u("click",function(){p(e);let a=m();return g(a.clearSearch())}),n(1,"mat-icon",19),c(2,"close"),r()()}}function jt(i,t){if(i&1&&(n(0,"mat-error",20),c(1),r()),i&2){let e=m();s(),b(" ",e.getErrorMessage()," ")}}function $t(i,t){i&1&&(n(0,"mat-icon",19),c(1,"search"),r())}function qt(i,t){i&1&&(n(0,"mat-icon",21),c(1,"hourglass_empty"),r())}var ie=class i{constructor(t){this.formBuilder=t;this.searchForm=this.formBuilder.group({searchTerm:["",[ue.required,ue.minLength(3)]]})}isLoading=!1;searchSubmitted=new P;searchCleared=new P;searchForm;accessibilityService=f(oe);get searchTermControl(){return this.searchForm.get("searchTerm")}get hasSearchTerm(){return this.searchTermControl?.value?.trim().length>0}onSubmit(){if(this.searchForm.valid&&!this.isLoading){let t=this.searchTermControl?.value.trim(),e={query:t,startIndex:0,maxResults:12};this.accessibilityService.announce(`Searching for books with query: ${t}`,"assertive"),this.searchSubmitted.emit(e)}else this.searchForm.invalid&&this.accessibilityService.announce(this.getErrorMessage(),"assertive")}clearSearch(){this.searchForm.reset(),this.accessibilityService.announce("Search cleared","polite"),this.searchCleared.emit()}getErrorMessage(){return this.searchTermControl?.hasError("required")?"Search term is required":this.searchTermControl?.hasError("minlength")?"Search term must be at least 3 characters":""}static \u0275fac=function(e){return new(e||i)(M(We))};static \u0275cmp=x({type:i,selectors:[["app-search-form"]],inputs:{isLoading:"isLoading"},outputs:{searchSubmitted:"searchSubmitted",searchCleared:"searchCleared"},decls:23,vars:10,consts:[["role","region","aria-labelledby","search-heading",1,"search-form-container"],["id","search-heading",1,"sr-only"],["mode","indeterminate","class","search-progress","data-cy","loading-indicator","aria-label","Searching for books","role","progressbar",4,"ngIf"],["role","search","novalidate","",1,"search-form",3,"ngSubmit","formGroup"],[1,"search-fieldset"],[1,"sr-only"],["appearance","outline",1,"search-field"],["id","search-label"],["matInput","","formControlName","searchTerm","placeholder","Enter book title, author, or keywords...","aria-labelledby","search-label","aria-describedby","search-help search-error","data-cy","search-input","autocomplete","off","spellcheck","true",1,"search-input","focus-indicator",3,"keydown.enter"],["id","search-help",1,"sr-only"],["matPrefix","","aria-hidden","true"],["mat-icon-button","","matSuffix","","type","button","class","clear-button focus-indicator","aria-label","Clear search field","data-cy","clear-search","tabindex","0",3,"click",4,"ngIf"],["class","error-message","id","search-error","role","alert","aria-live","polite","data-cy","search-error",4,"ngIf"],["mat-raised-button","","color","primary","type","submit","data-cy","search-button",1,"search-button","focus-indicator",3,"disabled"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true","class","loading-icon",4,"ngIf"],[1,"button-text"],["mode","indeterminate","data-cy","loading-indicator","aria-label","Searching for books","role","progressbar",1,"search-progress"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search field","data-cy","clear-search","tabindex","0",1,"clear-button","focus-indicator",3,"click"],["aria-hidden","true"],["id","search-error","role","alert","aria-live","polite","data-cy","search-error",1,"error-message"],["aria-hidden","true",1,"loading-icon"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"h2",1),c(2,"Book Search"),r(),_(3,At,1,0,"mat-progress-bar",2),n(4,"form",3),u("ngSubmit",function(){return o.onSubmit()}),n(5,"fieldset",4)(6,"legend",5),c(7,"Search for books by title, author, or keywords"),r(),n(8,"mat-form-field",6)(9,"mat-label",7),c(10,"Search for books"),r(),n(11,"input",8),u("keydown.enter",function(){return o.onSubmit()}),r(),n(12,"div",9),c(13,"Enter at least 3 characters to search for books"),r(),n(14,"mat-icon",10),c(15,"search"),r(),_(16,Nt,3,0,"button",11)(17,jt,2,1,"mat-error",12),r(),n(18,"button",13),_(19,$t,2,0,"mat-icon",14)(20,qt,2,0,"mat-icon",15),n(21,"span",16),c(22),r()()()()()),e&2&&(s(3),d("ngIf",o.isLoading),s(),d("formGroup",o.searchForm),s(7),v("aria-invalid",(o.searchTermControl==null?null:o.searchTermControl.invalid)&&(o.searchTermControl==null?null:o.searchTermControl.touched)),s(5),d("ngIf",o.hasSearchTerm),s(),d("ngIf",(o.searchTermControl==null?null:o.searchTermControl.touched)&&(o.searchTermControl==null?null:o.searchTermControl.errors)),s(),d("disabled",o.searchForm.invalid||o.isLoading),v("aria-label",o.isLoading?"Searching for books, please wait":"Search for books"),s(),d("ngIf",!o.isLoading),s(),d("ngIf",o.isLoading),s(2),b(" ",o.isLoading?"Searching...":"Search Books"," "))},dependencies:[S,O,Qe,Ue,H,G,qe,He,Ge,te,ee,J,Q,rt,Z,at,F,Y,B,z,L,Pt,Mt,K],styles:[".search-form-container[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;position:relative}.search-form-container[_ngcontent-%COMP%]   .search-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:1;height:2px}.search-form[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start;flex-wrap:wrap;padding:16px 0}@media (max-width: 600px){.search-form[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}.search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}@media (max-width: 600px){.search-field[_ngcontent-%COMP%]{min-width:100%}}.search-field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:4px}.search-input[_ngcontent-%COMP%]{font-size:16px}.search-input[_ngcontent-%COMP%]::placeholder{font-style:italic;opacity:.7}.search-button[_ngcontent-%COMP%]{height:56px;min-width:140px;font-weight:500}@media (max-width: 600px){.search-button[_ngcontent-%COMP%]{width:100%;min-width:auto}}.search-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{margin-left:8px}.search-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.clear-button[_ngcontent-%COMP%]{opacity:.7;transition:opacity .2s ease}.clear-button[_ngcontent-%COMP%]:hover{opacity:1}.error-message[_ngcontent-%COMP%]{font-size:12px;color:#f44336;margin-top:4px;animation:_ngcontent-%COMP%_fadeIn .2s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:2px solid #2196f3;outline-offset:2px}.search-form[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:focus{outline:2px solid #2196f3;outline-offset:2px}.search-form[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:focus{outline:2px solid #2196f3;outline-offset:2px}@media (prefers-contrast: high){.search-field[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%]{border-width:2px}.error-message[_ngcontent-%COMP%]{font-weight:700}}@media (prefers-reduced-motion: reduce){.error-message[_ngcontent-%COMP%]{animation:none}.clear-button[_ngcontent-%COMP%]{transition:none}}"]})};var ne=class i{imageCache=new Map;webpSupport=this.checkWebPSupport();constructor(){}checkWebPSupport(){return new Promise(t=>{let e=new Image;e.onload=e.onerror=()=>{t(e.height===2)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})}getOptimizedImageUrl(t,e={}){if(!t||!t.includes("books.google.com"))return t;let o=new URL(t);return e.width&&e.width<=128?o.searchParams.set("zoom","0"):e.width&&e.width<=256?o.searchParams.set("zoom","1"):o.searchParams.set("zoom","2"),o.toString()}generateResponsiveImageSet(t,e){if(!t||!t.includes("books.google.com"))return{src:t,srcset:t,sizes:"100vw"};let o=new URL(t),l=[{size:128,zoom:"0",descriptor:"128w"},{size:256,zoom:"1",descriptor:"256w"},{size:512,zoom:"2",descriptor:"512w"}].map(({zoom:h,descriptor:It})=>{let be=new URL(o);return be.searchParams.set("zoom",h),`${be.toString()} ${It}`}).join(", ");return{src:this.getOptimizedImageUrl(t,{width:256}),srcset:l,sizes:"(max-width: 640px) 128px, (max-width: 1024px) 256px, 512px"}}preloadImage(t,e="low"){return I(this,null,function*(){return this.imageCache.has(t)?this.imageCache.get(t):new Promise((o,a)=>{let l=new Image;"fetchPriority"in l&&(l.fetchPriority=e),l.onload=()=>{this.imageCache.set(t,l),o(l)},l.onerror=a,l.src=t})})}preloadImages(t){return I(this,null,function*(){let e=t.map(o=>this.preloadImage(o,"low").catch(a=>(console.warn(`Failed to preload image: ${o}`,a),null)));yield Promise.allSettled(e)})}createLazyLoader(t){let e={root:null,rootMargin:"50px",threshold:.1};return new IntersectionObserver(t,e)}generatePlaceholder(t=256,e=384){let o=document.createElement("canvas");o.width=20,o.height=30;let a=o.getContext("2d"),l=a.createLinearGradient(0,0,0,30);return l.addColorStop(0,"#f0f0f0"),l.addColorStop(1,"#e0e0e0"),a.fillStyle=l,a.fillRect(0,0,20,30),o.toDataURL("image/png")}isInViewport(t){let e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}getOptimalFormat(t){return I(this,null,function*(){return(yield this.webpSupport)&&t.includes("books.google.com")?"webp":"jpeg"})}getLoadingPriority(t,e=!1){return t<4||e?"high":"low"}static \u0275fac=function(e){return new(e||i)};static \u0275prov=ke({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ut=["imageElement"];function Ht(i,t){if(i&1&&w(0,"div",6),i&2){let e=m();E("background-image","url("+e.placeholder+")")("width",e.width,"px")("height",e.height,"px")}}function Gt(i,t){if(i&1){let e=k();n(0,"picture"),w(1,"source",7),n(2,"img",8),u("load",function(a){p(e);let l=m();return g(l.onImageLoad(a))})("error",function(a){p(e);let l=m();return g(l.onImageError(a))}),r()()}if(i&2){let e=m();s(),d("srcset",e.responsiveSet==null?null:e.responsiveSet.webpSrcset)("sizes",e.responsiveSet==null?null:e.responsiveSet.sizes),s(),d("src",e.currentSrc,le)("srcset",e.responsiveSet==null?null:e.responsiveSet.srcset)("sizes",e.responsiveSet==null?null:e.responsiveSet.sizes)("alt",e.alt)("loading",e.lazy?"lazy":"eager")}}function Wt(i,t){if(i&1&&(n(0,"div",9)(1,"div",10)(2,"span",11),c(3,"\u{1F4DA}"),r(),n(4,"span",12),c(5,"Image not available"),r()()()),i&2){let e=m();E("width",e.width,"px")("height",e.height,"px")}}var re=class i{constructor(t,e){this.imageOptimizationService=t;this.elementRef=e}src;alt;width=256;height=384;lazy=!0;placeholder;fallback="/assets/images/book-placeholder.png";preload=!1;priority="low";imageLoad=new P;imageError=new P;imageElement;isLoading=ce(!0);hasError=ce(!1);currentSrc="";responsiveSet;observer;ngOnInit(){return I(this,null,function*(){if(!this.src){this.hasError.set(!0),this.isLoading.set(!1);return}this.placeholder||(this.placeholder=this.imageOptimizationService.generatePlaceholder(this.width,this.height)),this.responsiveSet=this.imageOptimizationService.generateResponsiveImageSet(this.src,this.alt),this.currentSrc=this.responsiveSet.src,this.lazy&&!this.preload?this.setupLazyLoading():this.loadImage(),this.preload&&this.preloadImage()})}ngOnDestroy(){this.observer&&this.observer.disconnect()}setupLazyLoading(){this.observer=this.imageOptimizationService.createLazyLoader(t=>{t.forEach(e=>{e.isIntersecting&&(this.loadImage(),this.observer?.unobserve(e.target))})}),this.observer&&this.observer.observe(this.elementRef.nativeElement)}preloadImage(){return I(this,null,function*(){try{yield this.imageOptimizationService.preloadImage(this.currentSrc,this.priority)}catch(t){console.warn("Failed to preload image:",this.currentSrc,t)}})}loadImage(){if(!this.currentSrc){this.onImageError(new Event("error"));return}this.hasError.set(!1),this.isLoading.set(!0)}onImageLoad(t){this.isLoading.set(!1),this.hasError.set(!1),this.imageLoad.emit(t)}onImageError(t){if(t.target.src!==this.fallback&&this.fallback){this.currentSrc=this.fallback;return}this.isLoading.set(!1),this.hasError.set(!0),this.imageError.emit(t)}retry(){this.hasError.set(!1),this.isLoading.set(!0),this.currentSrc=this.responsiveSet?.src||this.src}static \u0275fac=function(e){return new(e||i)(M(ne),M(T))};static \u0275cmp=x({type:i,selectors:[["app-optimized-image"]],viewQuery:function(e,o){if(e&1&&Ie(Ut,5),e&2){let a;q(a=X())&&(o.imageElement=a.first)}},inputs:{src:"src",alt:"alt",width:"width",height:"height",lazy:"lazy",placeholder:"placeholder",fallback:"fallback",preload:"preload",priority:"priority"},outputs:{imageLoad:"imageLoad",imageError:"imageError"},decls:6,vars:18,consts:[["imageElement",""],[1,"image-container"],["class","image-placeholder",3,"background-image","width","height",4,"ngIf"],[3,"load","error","src","srcset","sizes","alt","width","height","loading"],[4,"ngIf"],["class","image-error",3,"width","height",4,"ngIf"],[1,"image-placeholder"],["type","image/webp",3,"srcset","sizes"],[3,"load","error","src","srcset","sizes","alt","loading"],[1,"image-error"],[1,"error-content"],[1,"error-icon"],[1,"error-text"]],template:function(e,o){if(e&1){let a=k();n(0,"div",1),_(1,Ht,1,6,"div",2),n(2,"img",3,0),u("load",function(h){return p(a),g(o.onImageLoad(h))})("error",function(h){return p(a),g(o.onImageError(h))}),r(),_(4,Gt,3,7,"picture",4)(5,Wt,6,4,"div",5),r()}e&2&&(y("loading",o.isLoading())("error",o.hasError()),s(),d("ngIf",o.isLoading()&&o.placeholder),s(),E("opacity",o.isLoading()?"0":"1"),y("fade-in",!o.isLoading()),d("src",o.currentSrc,le)("srcset",o.responsiveSet==null?null:o.responsiveSet.srcset)("sizes",o.responsiveSet==null?null:o.responsiveSet.sizes)("alt",o.alt)("width",o.width)("height",o.height)("loading",o.lazy?"lazy":"eager"),s(2),d("ngIf",o.responsiveSet==null?null:o.responsiveSet.webpSrcset),s(),d("ngIf",o.hasError()))},dependencies:[S,O],styles:[".image-container[_ngcontent-%COMP%]{position:relative;display:inline-block;overflow:hidden;transition:all .3s ease}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto;transition:opacity .3s ease}.image-placeholder[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#f5f5f5;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_pulse 2s infinite}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.loading[_ngcontent-%COMP%]{background-color:#f5f5f5}.image-error[_ngcontent-%COMP%]{background-color:#f5f5f5;display:flex;align-items:center;justify-content:center;border:1px dashed #ddd;border-radius:4px}.error-content[_ngcontent-%COMP%]{text-align:center;color:#666;padding:1rem}.error-icon[_ngcontent-%COMP%]{display:block;font-size:2rem;margin-bottom:.5rem}.error-text[_ngcontent-%COMP%]{font-size:.875rem}"]})};function Yt(i,t){i&1&&(n(0,"div",6),w(1,"mat-spinner",7),n(2,"p",8),c(3,"Searching for books..."),r()())}function Qt(i,t){i&1&&(n(0,"div",9)(1,"mat-icon",10),c(2,"menu_book"),r(),n(3,"h3"),c(4,"Ready to discover books"),r(),n(5,"p"),c(6,"Use the search form above to find your next great read!"),r()())}function Zt(i,t){i&1&&(n(0,"div",11)(1,"mat-icon",12),c(2,"search_off"),r(),n(3,"h3"),c(4,"No books found"),r(),n(5,"p"),c(6,"Try different search terms or check your spelling."),r()())}function Jt(i,t){i&1&&(n(0,"div",13)(1,"mat-icon",14),c(2,"error_outline"),r(),n(3,"h3"),c(4,"Unable to search for books"),r(),n(5,"p"),c(6,"Please check your connection and try again."),r()())}function Kt(i,t){if(i&1&&(n(0,"span",23),c(1),r()),i&2){let e=m(2);s(),b('for "',e.searchResult.query,'"')}}function eo(i,t){if(i&1&&(n(0,"div",40)(1,"span",41),c(2,"by"),r(),n(3,"span",42),c(4),r()()),i&2){let e=m().$implicit;s(4),C(e.authors.join(", "))}}function to(i,t){if(i&1&&(n(0,"span",43),c(1),r()),i&2){let e=m().$implicit;me("aria-label",ge("Published in ",e.publishedDate)),s(),b(" ",e.publishedDate," ")}}function oo(i,t){if(i&1&&(n(0,"span",44),c(1),r()),i&2){let e=m().$implicit;me("aria-label",ge("",e.pageCount," pages")),s(),b(" ",e.pageCount," pages ")}}function io(i,t){if(i&1&&(n(0,"p",45),c(1),Fe(2,"slice"),r()),i&2){let e=m().$implicit;s(),pe(" ",Le(2,2,e.description,0,150),"",e.description.length>150?"...":""," ")}}function no(i,t){if(i&1){let e=k();n(0,"div",26)(1,"mat-card",27),u("click",function(){let a=p(e).$implicit,l=m(3);return g(l.onViewDetails(a))})("keydown.enter",function(){let a=p(e).$implicit,l=m(3);return g(l.onViewDetails(a))})("keydown.space",function(a){let l=p(e).$implicit;return m(3).onViewDetails(l),g(a.preventDefault())}),n(2,"div",28)(3,"app-optimized-image",29),u("imageError",function(a){p(e);let l=m(3);return g(l.handleImageError(a))}),r()(),n(4,"mat-card-content",30)(5,"h3",31),c(6),r(),_(7,eo,5,1,"div",32),n(8,"div",33),_(9,to,2,3,"span",34)(10,oo,2,3,"span",35),r(),_(11,io,3,6,"p",36),r(),n(12,"mat-card-actions",37)(13,"button",38),u("click",function(a){let l=p(e).$implicit;return m(3).onToggleFavorite(l),g(a.stopPropagation())})("keydown.enter",function(a){let l=p(e).$implicit;return m(3).onToggleFavorite(l),g(a.stopPropagation())})("keydown.space",function(a){let l=p(e).$implicit;return m(3).onToggleFavorite(l),a.stopPropagation(),g(a.preventDefault())}),n(14,"mat-icon"),c(15),r()(),n(16,"button",39),u("click",function(a){let l=p(e).$implicit;return m(3).onViewDetails(l),g(a.stopPropagation())})("keydown.enter",function(a){let l=p(e).$implicit;return m(3).onViewDetails(l),g(a.stopPropagation())})("keydown.space",function(a){let l=p(e).$implicit;return m(3).onViewDetails(l),a.stopPropagation(),g(a.preventDefault())}),c(17," View Details "),r()()()()}if(i&2){let e=t.$implicit,o=m(3);s(),v("aria-label",o.getBookAriaLabel(e)),s(2),d("src",o.getBookThumbnail(e))("alt","Cover of "+e.title)("width",256)("height",384)("lazy",!0)("preload",!1),s(2),d("title",e.title),s(),C(e.title),s(),d("ngIf",e.authors&&e.authors.length),s(2),d("ngIf",e.publishedDate),s(),d("ngIf",e.pageCount),s(),d("ngIf",e.description),s(2),y("favorited",o.favoriteBookIds.has(e.id)),v("aria-label",o.getFavoriteButtonAriaLabel(e))("aria-pressed",o.isFavorite(e.id)),s(),v("aria-hidden",!0),s(),C(o.favoriteBookIds.has(e.id)?"favorite":"favorite_border"),s(),v("aria-label","View details for "+e.title)}}function ro(i,t){if(i&1&&(n(0,"cdk-virtual-scroll-viewport",24),_(1,no,18,20,"div",25),r()),i&2){let e=m(2);s(),d("cdkVirtualForOf",e.searchResult.books)("cdkVirtualForTrackBy",e.trackByBookId)}}function ao(i,t){if(i&1&&(n(0,"span",65),c(1),r()),i&2){let e=m(2).$implicit;s(),b("(",e.ratingsCount,")")}}function so(i,t){if(i&1&&(n(0,"div",61)(1,"mat-icon",62),c(2,"star"),r(),n(3,"span",63),c(4),r(),_(5,ao,2,1,"span",64),r()),i&2){let e=m().$implicit;s(4),C(e.averageRating),s(),d("ngIf",e.ratingsCount)}}function co(i,t){if(i&1&&(n(0,"div",66)(1,"mat-icon",67),c(2,"calendar_today"),r(),n(3,"span"),c(4),r()()),i&2){let e=m().$implicit,o=m(3);s(4),C(o.formatPublishedDate(e.publishedDate))}}function lo(i,t){if(i&1&&(n(0,"div",68)(1,"mat-icon",69),c(2,"description"),r(),n(3,"span"),c(4),r()()),i&2){let e=m().$implicit;s(4),b("",e.pageCount," pages")}}function mo(i,t){if(i&1&&(n(0,"div",70)(1,"mat-icon",71),c(2,"business"),r(),n(3,"span"),c(4),r()()),i&2){let e=m().$implicit;s(4),C(e.publisher)}}function po(i,t){if(i&1&&(n(0,"mat-chip"),c(1),r()),i&2){let e=t.$implicit;s(),b(" ",e," ")}}function go(i,t){if(i&1&&(n(0,"mat-chip",75),c(1),r()),i&2){let e=m(2).$implicit;s(),b(" +",e.categories.length-3," more ")}}function _o(i,t){if(i&1&&(n(0,"div",72)(1,"mat-chip-set"),_(2,po,2,1,"mat-chip",73)(3,go,2,1,"mat-chip",74),r()()),i&2){let e=m().$implicit;s(2),d("ngForOf",e.categories==null?null:e.categories.slice(0,3)),s(),d("ngIf",e.categories&&e.categories.length>3)}}function uo(i,t){if(i&1){let e=k();n(0,"mat-card",48),u("click",function(){let a=p(e).$implicit,l=m(3);return g(l.onViewDetails(a))}),n(1,"div",28)(2,"app-optimized-image",49),u("imageError",function(a){p(e);let l=m(3);return g(l.handleImageError(a))}),r()(),n(3,"mat-card-header",50)(4,"mat-card-title",51),c(5),r(),n(6,"mat-card-subtitle",52),c(7),r()(),n(8,"mat-card-content",30)(9,"p",53),c(10),r(),n(11,"div",54),_(12,so,6,2,"div",55)(13,co,5,1,"div",56)(14,lo,5,1,"div",57)(15,mo,5,1,"div",58),r(),_(16,_o,4,2,"div",59),r(),n(17,"mat-card-actions",37)(18,"button",60),u("click",function(a){let l=p(e).$implicit;return m(3).onToggleFavorite(l),g(a.stopPropagation())}),n(19,"mat-icon"),c(20),r()()()()}if(i&2){let e=t.$implicit,o=m(3);s(2),d("src",o.getBookThumbnail(e))("alt",e.title+" cover")("width",180)("height",270)("lazy",!0)("preload",!0),s(3),C(e.title),s(2),C(o.getBookAuthors(e)),s(3),b(" ",o.truncateDescription(e.description)," "),s(2),d("ngIf",e.averageRating),s(),d("ngIf",e.publishedDate),s(),d("ngIf",e.pageCount),s(),d("ngIf",e.publisher),s(),d("ngIf",e.categories&&e.categories.length>0),s(2),v("aria-label",(o.isFavorite(e.id)?"Remove from":"Add to")+" favorites"),s(2),C(o.isFavorite(e.id)?"favorite":"favorite_border")}}function ho(i,t){if(i&1&&(n(0,"div",46),_(1,uo,21,16,"mat-card",47),r()),i&2){let e=m(2);s(),d("ngForOf",e.searchResult.books)("ngForTrackBy",e.trackByBookId)}}function fo(i,t){i&1&&(n(0,"div",76)(1,"button",77)(2,"mat-icon"),c(3,"expand_more"),r(),c(4," Load More Results (Coming Soon) "),r()())}function bo(i,t){if(i&1&&(n(0,"div",15)(1,"div",16)(2,"h2",17),c(3,"Search Results"),r(),n(4,"p",18),c(5),_(6,Kt,2,1,"span",19),r()(),_(7,ro,2,2,"cdk-virtual-scroll-viewport",20)(8,ho,2,2,"div",21)(9,fo,5,0,"div",22),r()),i&2){let e=m();s(5),pe(" Showing ",e.searchResult.books.length," of ",e.searchResult.totalItems," books "),s(),d("ngIf",e.searchResult.query),s(),d("ngIf",e.searchResult.books.length>20),s(),d("ngIf",e.searchResult.books.length<=20),s(),d("ngIf",e.searchResult.hasMoreResults)}}var ae=class i{searchResult=null;isLoading=!1;hasError=!1;favoriteBookIds=new Set;bookSelected=new P;favoriteToggled=new P;accessibilityService=f(oe);onViewDetails(t){this.accessibilityService.announce(`Opening details for ${t.title} by ${t.authors?.join(", ")||"Unknown Author"}`,"polite"),this.bookSelected.emit(t)}onToggleFavorite(t){let o=this.isFavorite(t.id)?"removed from":"added to";this.accessibilityService.announce(`${t.title} ${o} favorites`,"polite"),this.favoriteToggled.emit(t)}isFavorite(t){return this.favoriteBookIds.has(t)}trackByBookId(t,e){return e.id}getBookAriaLabel(t){let e=t.title||"Unknown Title",o=t.authors?.join(", ")||"Unknown Author",a=t.publishedDate||"Unknown Date",l=t.averageRating?`, Rating: ${t.averageRating} stars`:"";return`${e} by ${o}, published ${a}${l}`}getFavoriteButtonAriaLabel(t){return`${this.isFavorite(t.id)?"Remove from":"Add to"} favorites: ${t.title}`}getBookThumbnail(t){return t.imageLinks?.thumbnail||t.imageLinks?.smallThumbnail||"/assets/images/book-placeholder.png"}handleImageError(t){let e=t.target;e.src!=="assets/images/book-placeholder.png"&&(e.src="assets/images/book-placeholder.png")}handleImageLoad(t){let e=t.target;e.style.opacity="1",e.style.transition="opacity 0.3s ease"}getBookAuthors(t){return t.authors?.join(", ")||"Unknown Author"}truncateDescription(t,e=200){return t?t.length<=e?t:t.substring(0,e).trim()+"...":"No description available."}formatPublishedDate(t){return t?new Date(t).getFullYear().toString():""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-book-list"]],inputs:{searchResult:"searchResult",isLoading:"isLoading",hasError:"hasError",favoriteBookIds:"favoriteBookIds"},outputs:{bookSelected:"bookSelected",favoriteToggled:"favoriteToggled"},decls:6,vars:5,consts:[["role","region","aria-labelledby","results-heading",1,"book-list-container"],["class","loading-state","data-cy","loading-indicator","role","status","aria-live","polite",4,"ngIf"],["class","empty-state","data-cy","empty-state","role","status",4,"ngIf"],["class","no-results","data-cy","no-results","role","status","aria-live","polite",4,"ngIf"],["class","error-state","data-cy","error-message","role","alert","aria-live","assertive",4,"ngIf"],["class","results-container",4,"ngIf"],["data-cy","loading-indicator","role","status","aria-live","polite",1,"loading-state"],["diameter","50","aria-label","Loading books"],[1,"loading-message"],["data-cy","empty-state","role","status",1,"empty-state"],["aria-hidden","true",1,"empty-icon"],["data-cy","no-results","role","status","aria-live","polite",1,"no-results"],["aria-hidden","true",1,"no-results-icon"],["data-cy","error-message","role","alert","aria-live","assertive",1,"error-state"],["aria-hidden","true",1,"error-icon"],[1,"results-container"],["role","status","aria-live","polite",1,"results-summary"],["id","results-heading"],[1,"results-count"],["class","search-query",4,"ngIf"],["itemSize","400","class","book-viewport","role","list","aria-label","Search results",4,"ngIf"],["class","books-grid","role","list","data-cy","book-list",4,"ngIf"],["class","load-more-container",4,"ngIf"],[1,"search-query"],["itemSize","400","role","list","aria-label","Search results",1,"book-viewport"],["class","virtual-book-item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"virtual-book-item"],["role","listitem","data-cy","book-item","tabindex","0",1,"book-card","focus-indicator",3,"click","keydown.enter","keydown.space"],[1,"book-image-container"],["priority","low",1,"book-image",3,"imageError","src","alt","width","height","lazy","preload"],[1,"book-content"],[1,"book-title",3,"title"],["class","book-authors",4,"ngIf"],[1,"book-meta"],["class","published-date",3,"aria-label",4,"ngIf"],["class","page-count",3,"aria-label",4,"ngIf"],["class","book-description",4,"ngIf"],[1,"book-actions"],["mat-icon-button","","data-cy","favorite-button",1,"focus-indicator",3,"click","keydown.enter","keydown.space"],["mat-button","","color","primary","data-cy","view-details-button",1,"focus-indicator",3,"click","keydown.enter","keydown.space"],[1,"book-authors"],[1,"author-label"],[1,"author-names"],[1,"published-date",3,"aria-label"],[1,"page-count",3,"aria-label"],[1,"book-description"],["role","list","data-cy","book-list",1,"books-grid"],["class","book-card","role","listitem","data-cy","book-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem","data-cy","book-item",1,"book-card",3,"click"],["priority","high","data-cy","book-thumbnail",1,"book-thumbnail",3,"imageError","src","alt","width","height","lazy","preload"],[1,"book-header"],["data-cy","book-title",1,"book-title"],["data-cy","book-authors",1,"book-authors"],["data-cy","book-description",1,"book-description"],[1,"book-metadata"],["class","book-rating","data-cy","book-rating",4,"ngIf"],["class","published-date","data-cy","book-publication-year",4,"ngIf"],["class","page-count","data-cy","book-page-count",4,"ngIf"],["class","publisher","data-cy","book-publisher",4,"ngIf"],["class","book-categories","data-cy","book-categories",4,"ngIf"],["mat-icon-button","","data-cy","favorite-button",1,"favorite-btn",3,"click"],["data-cy","book-rating",1,"book-rating"],[1,"rating-icon"],[1,"rating-value"],["class","rating-count",4,"ngIf"],[1,"rating-count"],["data-cy","book-publication-year",1,"published-date"],[1,"date-icon"],["data-cy","book-page-count",1,"page-count"],[1,"page-icon"],["data-cy","book-publisher",1,"publisher"],[1,"publisher-icon"],["data-cy","book-categories",1,"book-categories"],[4,"ngFor","ngForOf"],["class","more-categories",4,"ngIf"],[1,"more-categories"],[1,"load-more-container"],["mat-stroked-button","","data-cy","load-more-button","disabled","",1,"load-more-btn"]],template:function(e,o){e&1&&(n(0,"div",0),_(1,Yt,4,0,"div",1)(2,Qt,7,0,"div",2)(3,Zt,7,0,"div",3)(4,Jt,7,0,"div",4)(5,bo,10,6,"div",5),r()),e&2&&(s(),d("ngIf",o.isLoading),s(),d("ngIf",!o.searchResult&&!o.isLoading),s(),d("ngIf",o.searchResult&&o.searchResult.books.length===0&&!o.isLoading),s(),d("ngIf",o.hasError&&!o.isLoading),s(),d("ngIf",o.searchResult&&o.searchResult.books.length>0&&!o.isLoading))},dependencies:[S,Re,O,mt,st,lt,ct,W,Ze,tt,Ke,ot,et,Je,F,Y,B,z,L,ut,gt,_t,ft,ht,re,Ve],styles:[".book-list-container[_ngcontent-%COMP%]{width:100%;padding:24px 0}.book-viewport[_ngcontent-%COMP%]{height:600px;width:100%;border:1px solid #ccc;border-radius:8px}.virtual-book-item[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #eee}.virtual-book-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.book-viewport[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]{margin:0 0 16px}@media (min-width: 768px){.book-viewport[_ngcontent-%COMP%]{height:800px}}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;text-align:center}.loading-state[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{margin-top:16px;font-size:1.1em;color:#666}.empty-state[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;text-align:center;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:4em;width:1em;height:1em;opacity:.5;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;font-weight:400;margin:0 0 8px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1em;opacity:.8}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{margin-bottom:32px;padding:0 16px}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;font-weight:400;margin:0 0 8px;color:#333}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{margin:0;font-size:.9em;color:#666}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]   .search-query[_ngcontent-%COMP%]{font-style:italic;color:#2196f3}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;padding:0 16px}@media (max-width: 768px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:0 8px}}.book-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;transition:transform .2s ease,box-shadow .2s ease;border-radius:12px;overflow:hidden}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px;background:linear-gradient(135deg,#f5f5f5,#e8e8e8);min-height:200px;align-items:center}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{max-width:120px;max-height:180px;border-radius:4px;box-shadow:0 4px 12px #0000001a;transition:transform .2s ease}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]{padding:16px 16px 8px}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:500;line-height:1.4;margin-bottom:4px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-authors[_ngcontent-%COMP%]{color:#666;font-size:.9em;line-height:1.3}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]{flex:1;padding:8px 16px 16px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{font-size:.85em;line-height:1.5;color:#555;margin:0 0 16px;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.8em;color:#666}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:6px;opacity:.7}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-icon[_ngcontent-%COMP%]{color:gold;opacity:1}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-right:4px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-count[_ngcontent-%COMP%]{opacity:.7}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75em;height:24px;line-height:24px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.more-categories[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#666}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-top:1px solid #e0e0e0}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{flex:1;margin-right:8px}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;width:18px;height:18px}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .favorite-btn[_ngcontent-%COMP%]{color:#e91e63}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .favorite-btn[_ngcontent-%COMP%]:hover{background-color:#e91e631a}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:32px;padding:0 16px}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{padding:12px 24px;font-size:.9em}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]{min-height:160px}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{max-width:100px;max-height:150px}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]{padding:12px 12px 6px}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:1em}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]{padding:6px 12px 12px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:.75em}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{padding:10px 12px}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{font-size:.8em;padding:8px 12px}}@media (prefers-contrast: high){.book-card[_ngcontent-%COMP%]{border:2px solid #333}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{border-top-color:#333}.results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000}}@media (prefers-reduced-motion: reduce){.book-card[_ngcontent-%COMP%]{transition:none}.book-card[_ngcontent-%COMP%]:hover{transform:none}.book-card[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{transition:none}.book-card[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]:hover{transform:none}}@media (prefers-color-scheme: dark){.empty-state[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{color:#ccc}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{color:#ccc}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#aaa}}"]})};function vo(i,t){if(i&1&&(n(0,"span",17),c(1),r()),i&2){let e=m();s(),C(e.favoritesCount)}}function ko(i,t){if(i&1&&(n(0,"span",18),c(1),r()),i&2){let e=m();s(),b(' Searching for: "',e.currentSearchTerm,'" ')}}function Co(i,t){i&1&&(n(0,"div",28)(1,"mat-icon",29),c(2,"favorite_border"),r(),n(3,"h3"),c(4,"No favorite books yet"),r(),n(5,"p"),c(6,"Books you favorite will appear here for quick access."),r()())}function xo(i,t){i&1&&(n(0,"div",30)(1,"mat-icon",31),c(2,"search_off"),r(),n(3,"h3"),c(4,"No favorites match your search"),r(),n(5,"p"),c(6,"Try different keywords or browse all your favorites."),r()())}function yo(i,t){if(i&1){let e=k();n(0,"app-book-list",32),u("bookSelected",function(a){p(e);let l=m(2);return g(l.onBookSelected(a))})("favoriteToggled",function(a){p(e);let l=m(2);return g(l.onFavoriteToggled(a))}),r()}if(i&2){let e=m(2);d("searchResult",e.favoritesAsSearchResult)("isLoading",!1)("favoriteBookIds",e.favoriteBookIds)}}function Mo(i,t){if(i&1){let e=k();n(0,"section",19)(1,"div",20)(2,"h2"),c(3,"Your Favorite Books"),r(),n(4,"mat-form-field",21)(5,"mat-label"),c(6,"Search favorites"),r(),n(7,"input",22),Be("ngModelChange",function(a){p(e);let l=m();return Te(l.favoritesSearchTerm,a)||(l.favoritesSearchTerm=a),g(a)}),u("ngModelChange",function(){p(e);let a=m();return g(a.updateFilteredFavorites())}),r(),n(8,"mat-icon",23),c(9,"search"),r()()(),n(10,"div",24),_(11,Co,7,0,"div",25)(12,xo,7,0,"div",26)(13,yo,1,3,"app-book-list",27),r()()}if(i&2){let e=m();s(7),Ee("ngModel",e.favoritesSearchTerm),s(4),d("ngIf",e.filteredFavorites.length===0&&e.favorites.length===0),s(),d("ngIf",e.filteredFavorites.length===0&&e.favorites.length>0),s(),d("ngIf",e.filteredFavorites.length>0)}}function Po(i,t){i&1&&(n(0,"div",37)(1,"mat-icon",38),c(2,"search"),r(),n(3,"h3"),c(4,"Please enter a search term"),r(),n(5,"p"),c(6,"Use the search box above to find books."),r()())}function wo(i,t){if(i&1){let e=k();n(0,"section",33)(1,"div",34),_(2,Po,7,0,"div",35),n(3,"app-book-list",36),u("bookSelected",function(a){p(e);let l=m();return g(l.onBookSelected(a))})("favoriteToggled",function(a){p(e);let l=m();return g(l.onFavoriteToggled(a))}),r()()()}if(i&2){let e=m();s(2),d("ngIf",!e.searchResult&&!e.isLoading),s(),d("searchResult",e.searchResult)("isLoading",e.isLoading)("hasError",e.hasSearchError)("favoriteBookIds",e.favoriteBookIds)}}function Oo(i,t){if(i&1){let e=k();n(0,"div",39)(1,"div",40),u("click",function(){p(e);let a=m();return g(a.onBookDetailsClose())}),r(),n(2,"div",41)(3,"app-book-details",42),u("closed",function(){p(e);let a=m();return g(a.onBookDetailsClose())})("favoriteToggled",function(a){p(e);let l=m();return g(l.onBookDetailsFavoriteToggled(a))})("previewRequested",function(a){p(e);let l=m();return g(l.onBookPreviewRequested(a))})("purchaseRequested",function(a){p(e);let l=m();return g(l.onBookPurchaseRequested(a))}),r()()()}if(i&2){let e=m();y("show",e.showBookDetails),s(3),d("book",e.selectedBook)("isLoading",!1)("hasError",e.hasDetailsError)}}var St=class i{constructor(t,e,o,a,l){this.bookService=t;this.dialog=e;this.favoritesService=o;this.router=a;this.logger=l}searchResult=null;isLoading=!1;hasSearched=!1;hasSearchError=!1;hasDetailsError=!1;currentSearchTerm="";favoriteBookIds=new Set;selectedBook=null;showBookDetails=!1;isShowingFavorites=!1;favorites=[];favoritesSearchTerm="";filteredFavorites=[];favoritesCount=0;showFilters=!1;activeFilters={};ngOnInit(){this.loadFavorites(),this.favoritesService.favorites$.subscribe(()=>{this.loadFavorites()}),this.initializeEmptyState()}get favoritesAsSearchResult(){return{books:this.filteredFavorites,totalItems:this.filteredFavorites.length,query:this.favoritesSearchTerm,hasMoreResults:!1,currentPage:1,itemsPerPage:this.filteredFavorites.length,searchTimestamp:new Date}}toggleFavoritesView(){this.isShowingFavorites=!this.isShowingFavorites,this.isShowingFavorites&&(this.favoritesSearchTerm="",this.updateFilteredFavorites())}toggleFilters(){this.showFilters=!this.showFilters}onFiltersChanged(t){if(this.activeFilters=t,this.currentSearchTerm){let e=ve({query:this.currentSearchTerm},t);this.onSearchSubmitted(e)}}loadFavorites(){this.favorites=this.favoritesService.getFavorites(),this.favoritesCount=this.favorites.length,this.favoriteBookIds=this.favoritesService.getFavoriteIds(),this.updateFilteredFavorites()}updateFilteredFavorites(){if(!this.favoritesSearchTerm.trim())this.filteredFavorites=this.favorites;else{let t=this.favoritesSearchTerm.toLowerCase();this.filteredFavorites=this.favorites.filter(e=>e.title.toLowerCase().includes(t)||e.authors?.some(o=>o.toLowerCase().includes(t))||e.description?.toLowerCase().includes(t))}}set favoritesSearchValue(t){this.favoritesSearchTerm=t,this.updateFilteredFavorites()}onSearchSubmitted(t){if(this.logger.debug("Starting book search",{params:t}),this.hasSearched=!0,this.hasSearchError=!1,this.currentSearchTerm=t.query,!t.query.trim()){this.logger.debug("Empty search query, resetting results"),this.searchResult=null;return}this.isLoading=!0,this.bookService.searchBooks(t).subscribe({next:e=>{this.logger.debug("Search completed successfully",{resultCount:e.books.length}),this.searchResult=e,this.isLoading=!1,this.hasSearchError=!1},error:e=>{this.logger.error("Search failed",e),this.isLoading=!1,this.hasSearchError=!0,this.searchResult=null}})}onSearchCleared(){this.currentSearchTerm="",this.searchResult=null,this.hasSearchError=!1,this.initializeEmptyState()}onBookSelected(t){this.router.navigate(["/book",t.id])}onFavoriteToggled(t){this.favoritesService.toggleFavorite(t),this.isShowingFavorites&&this.updateFilteredFavorites()}onBookDetailsClose(){this.showBookDetails=!1,this.selectedBook=null,this.hasDetailsError=!1}onBookDetailsFavoriteToggled(t){this.onFavoriteToggled(t)}onBookPreviewRequested(t){this.logger.debug("Preview requested for book",{title:t.title})}onBookPurchaseRequested(t){this.logger.debug("Purchase requested for book",{title:t.title})}loadPopularBooks(){this.isLoading=!0,this.hasSearchError=!1,this.bookService.getPopularBooks().subscribe({next:t=>{this.searchResult=t,this.isLoading=!1,this.hasSearchError=!1},error:t=>{!t.message.includes("503")&&!t.message.includes("temporarily unavailable")&&this.logger.error("Failed to load popular books",t),this.isLoading=!1,this.hasSearchError=!0,this.searchResult={books:[],totalItems:0,query:"popular books",currentPage:1,itemsPerPage:20,hasMoreResults:!1,searchTimestamp:new Date}}})}initializeEmptyState(){this.isLoading=!1,this.hasSearchError=!1,this.searchResult={books:[],totalItems:0,query:"",currentPage:1,itemsPerPage:20,hasMoreResults:!1,searchTimestamp:new Date}}trackByBookId(t,e){return e.id}static \u0275fac=function(e){return new(e||i)(M(kt),M(dt),M(bt),M(De),M($e))};static \u0275cmp=x({type:i,selectors:[["app-search-page"]],decls:28,vars:10,consts:[[1,"search-page-container"],["color","primary",1,"page-header"],[1,"toolbar-title"],[1,"spacer"],["mat-icon-button","","routerLink","/performance","aria-label","View performance dashboard","title","Performance Dashboard"],["mat-icon-button","","routerLink","/reading-center","aria-label","View reading center","title","Reading Center"],["mat-icon-button","","data-cy","favorites-toggle",1,"favorites-toggle",3,"click"],["class","favorites-badge","data-cy","favorites-count",4,"ngIf"],["class","toolbar-subtitle",4,"ngIf"],["aria-label","Book search",1,"search-section"],[1,"search-container"],[1,"search-title"],[1,"search-subtitle"],[3,"searchSubmitted","searchCleared","isLoading"],["class","favorites-section","aria-label","Favorite books","data-cy","favorites-view",4,"ngIf"],["class","book-list-section","aria-label","Search results",4,"ngIf"],["class","book-details-modal",3,"show",4,"ngIf"],["data-cy","favorites-count",1,"favorites-badge"],[1,"toolbar-subtitle"],["aria-label","Favorite books","data-cy","favorites-view",1,"favorites-section"],[1,"favorites-header"],["appearance","outline",1,"favorites-search"],["matInput","","placeholder","Search your favorites...","data-cy","favorites-search",3,"ngModelChange","ngModel"],["matPrefix",""],[1,"favorites-content"],["class","no-favorites","data-cy","no-favorites-message",4,"ngIf"],["class","no-search-results","data-cy","no-search-results",4,"ngIf"],[3,"searchResult","isLoading","favoriteBookIds","bookSelected","favoriteToggled",4,"ngIf"],["data-cy","no-favorites-message",1,"no-favorites"],[1,"no-favorites-icon"],["data-cy","no-search-results",1,"no-search-results"],[1,"no-results-icon"],[3,"bookSelected","favoriteToggled","searchResult","isLoading","favoriteBookIds"],["aria-label","Search results",1,"book-list-section"],[1,"book-list-container"],["class","empty-search-state","data-cy","no-results",4,"ngIf"],[3,"bookSelected","favoriteToggled","searchResult","isLoading","hasError","favoriteBookIds"],["data-cy","no-results",1,"empty-search-state"],[1,"empty-icon"],[1,"book-details-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[3,"closed","favoriteToggled","previewRequested","purchaseRequested","book","isLoading","hasError"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"mat-toolbar",1)(2,"span",2)(3,"mat-icon"),c(4,"library_books"),r(),c(5," FindBook "),r(),w(6,"span",3),n(7,"button",4)(8,"mat-icon"),c(9,"speed"),r()(),n(10,"button",5)(11,"mat-icon"),c(12,"dashboard"),r()(),n(13,"button",6),u("click",function(){return o.toggleFavoritesView()}),n(14,"mat-icon"),c(15),r(),_(16,vo,2,1,"span",7),r(),_(17,ko,2,1,"span",8),r(),n(18,"section",9)(19,"div",10)(20,"h1",11),c(21,"Find Your Next Great Read"),r(),n(22,"p",12),c(23," Search through millions of books by title, author, ISBN, or keywords. "),r(),n(24,"app-search-form",13),u("searchSubmitted",function(l){return o.onSearchSubmitted(l)})("searchCleared",function(){return o.onSearchCleared()}),r()()(),_(25,Mo,14,4,"section",14)(26,wo,4,5,"section",15)(27,Oo,4,5,"div",16),r()),e&2&&(s(13),y("active",o.isShowingFavorites),v("aria-label",o.isShowingFavorites?"Show all books":"Show favorites"),s(2),C(o.isShowingFavorites?"favorite":"favorite_border"),s(),d("ngIf",o.favoritesCount>0),s(),d("ngIf",o.currentSearchTerm),s(7),d("isLoading",o.isLoading),s(),d("ngIf",o.isShowingFavorites),s(),d("ngIf",!o.isShowingFavorites),s(),d("ngIf",o.showBookDetails))},dependencies:[S,O,Ye,H,G,Xe,Ne,Ae,xt,Ct,W,F,B,z,L,nt,K,J,Q,Z,te,ee,pt,ie,ae,vt],styles:[".search-page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#fafafa}.page-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100}.page-header[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:500;font-size:1.2em}.page-header[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.page-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.page-header[_ngcontent-%COMP%]   .toolbar-subtitle[_ngcontent-%COMP%]{font-size:.9em;opacity:.9;font-style:italic}.search-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);color:#fff;padding:48px 16px}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;text-align:center}.search-section[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%]{font-size:2.5em;font-weight:300;margin:0 0 16px}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%]{font-size:2em}}.search-section[_ngcontent-%COMP%]   .search-subtitle[_ngcontent-%COMP%]{font-size:1.1em;opacity:.9;margin:0 0 32px}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]   .search-subtitle[_ngcontent-%COMP%]{font-size:1em}}.book-list-section[_ngcontent-%COMP%]   .book-list-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 16px}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]{padding:32px 16px}.book-list-section[_ngcontent-%COMP%]   .book-list-container[_ngcontent-%COMP%]{padding:0 8px}}.results-section[_ngcontent-%COMP%]{padding:32px 16px}.results-section[_ngcontent-%COMP%]   .results-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.results-section[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{margin-bottom:32px}.results-section[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;font-weight:400;margin:0 0 8px;color:#333}.results-section[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.9em}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}@media (max-width: 768px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.book-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.book-card[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:500;line-height:1.3;margin-bottom:4px}.book-card[_ngcontent-%COMP%]   .book-authors[_ngcontent-%COMP%]{color:#666;font-size:.9em}.book-card[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{max-height:200px;object-fit:cover;margin:16px auto;display:block}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{font-size:.9em;line-height:1.5;color:#555;margin:0}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 16px}.no-results[_ngcontent-%COMP%]{text-align:center;padding:48px 16px;color:#666}.no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:4em;width:1em;height:1em;opacity:.5;margin-bottom:16px}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;font-weight:400;margin:0 0 8px}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9em}.loading-section[_ngcontent-%COMP%]{padding:48px 16px}.loading-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{text-align:center;padding:32px}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{font-size:3em;width:1em;height:1em;color:#2196f3;margin-bottom:16px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;font-weight:400;margin:0 0 8px;color:#333}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9em}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]{padding:32px 16px}.results-section[_ngcontent-%COMP%]{padding:24px 16px}.loading-section[_ngcontent-%COMP%]{padding:32px 16px}}@media (prefers-contrast: high){.book-card[_ngcontent-%COMP%]{border:2px solid #333}.results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000}}@media (prefers-reduced-motion: reduce){.book-card[_ngcontent-%COMP%]{transition:none}.book-card[_ngcontent-%COMP%]:hover{transform:none}.loading-icon[_ngcontent-%COMP%]{animation:none}}.book-details-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.book-details-modal.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.book-details-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;cursor:pointer}.book-details-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;box-shadow:0 8px 32px #0003;max-width:90vw;max-height:90vh;overflow:auto;z-index:1001;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:scale(.9) translateY(-20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@media (max-width: 768px){.book-details-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-width:95vw;max-height:95vh;margin:16px}}"]})};export{St as SearchPage};
