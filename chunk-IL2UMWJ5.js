import{a as V}from"./chunk-3TDJJXQD.js";import{a as K,b as G,c as W,d as Y,e as J}from"./chunk-6I7ESIIO.js";import{a as z,c as j}from"./chunk-TH6PUXZV.js";import"./chunk-56UCSB4U.js";import"./chunk-XCLEEEGU.js";import"./chunk-FMTMHQ2S.js";import{a as w,b as R,c as L,d as $,e as D,f as F,g as N}from"./chunk-2JQEKP5E.js";import"./chunk-26UILUH3.js";import{$ as v,Bb as p,Ca as c,Db as t,Eb as M,Fb as u,Na as S,Ob as I,Pb as k,Ra as f,W as C,cb as g,db as i,ea as E,eb as e,fa as _,mb as A,ob as x,pb as b,pc as O,rc as P,rd as H,sd as B,td as q,uc as T,ud as U}from"./chunk-MML5RVMT.js";var y=class d{runAccessibilityAudit(){let n=[];return n.push(...this.checkImageAltText()),n.push(...this.checkHeadingStructure()),n.push(...this.checkFormLabels()),n.push(...this.checkKeyboardAccessibility()),n.push(...this.checkColorContrast()),n.push(...this.checkAriaAttributes()),n.push(...this.checkFocusManagement()),n}checkImageAltText(){let n=[];return document.querySelectorAll("img").forEach(r=>{let l=r.getAttribute("alt");if(l===null)n.push({element:r,type:"error",rule:"img-alt",message:"Image missing alt attribute",suggestion:"Add meaningful alt text to describe the image content"});else if(l.trim()===""){let o=r.closest("button"),s=r.closest("a");o&&!o.getAttribute("aria-label")&&n.push({element:r,type:"warning",rule:"img-alt",message:"Image in button has empty alt, but button lacks aria-label",suggestion:"Add aria-label to button or meaningful alt text to image"}),s&&!s.textContent?.trim()&&n.push({element:r,type:"error",rule:"img-alt",message:"Image in link has empty alt and link has no text",suggestion:"Add alt text to image or text content to link"})}}),n}checkHeadingStructure(){let n=[],a=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),r=0;return a.forEach((l,o)=>{let s=parseInt(l.tagName.charAt(1));o===0&&s!==1&&n.push({element:l,type:"error",rule:"heading-order",message:"First heading should be h1",suggestion:"Use h1 for the main page heading"}),s>r+1&&n.push({element:l,type:"error",rule:"heading-order",message:`Heading level skipped from h${r} to h${s}`,suggestion:"Use headings in sequential order"}),r=s}),n}checkFormLabels(){let n=[];return document.querySelectorAll("input, textarea, select").forEach(r=>{let l=r,o=l.id,s=l.getAttribute("aria-label"),m=l.getAttribute("aria-labelledby");if(l.type==="hidden"||l.type==="submit"||l.type==="button")return;let h=!1;o&&document.querySelector(`label[for="${o}"]`)&&(h=!0),(s||m)&&(h=!0),l.closest("label")&&(h=!0),h||n.push({element:l,type:"error",rule:"label",message:"Form input missing accessible label",suggestion:"Add a label element, aria-label, or aria-labelledby attribute"})}),n}checkKeyboardAccessibility(){let n=[];return document.querySelectorAll("[onclick], [ng-click]").forEach(l=>{let o=l,s=o.tabIndex,m=o.tagName.toLowerCase();!["a","button","input","select","textarea"].includes(m)&&s<0&&n.push({element:o,type:"error",rule:"keyboard",message:"Clickable element is not keyboard accessible",suggestion:'Add tabindex="0" or use a button element'})}),document.querySelectorAll('[tabindex]:not([tabindex="0"]):not([tabindex="-1"])').forEach(l=>{l.tabIndex>0&&n.push({element:l,type:"warning",rule:"tabindex",message:"Avoid positive tabindex values",suggestion:'Use tabindex="0" or rely on natural tab order'})}),n}checkColorContrast(){let n=[];return document.querySelectorAll("p, span, div, h1, h2, h3, h4, h5, h6, a, button, label").forEach(r=>{let l=r,o=getComputedStyle(l),s=o.color,m=o.backgroundColor;s==="rgba(0, 0, 0, 0)"||m==="rgba(0, 0, 0, 0)"||s===m&&n.push({element:l,type:"error",rule:"color-contrast",message:"Text color matches background color",suggestion:"Ensure sufficient color contrast between text and background"})}),n}checkAriaAttributes(){let n=[];return document.querySelectorAll("[aria-labelledby]").forEach(o=>{let s=o.getAttribute("aria-labelledby");s&&(document.getElementById(s)||n.push({element:o,type:"error",rule:"aria-labelledby",message:`aria-labelledby references non-existent element "${s}"`,suggestion:"Ensure the referenced element exists with the correct ID"}))}),document.querySelectorAll("[aria-describedby]").forEach(o=>{let s=o.getAttribute("aria-describedby");s&&(document.getElementById(s)||n.push({element:o,type:"error",rule:"aria-describedby",message:`aria-describedby references non-existent element "${s}"`,suggestion:"Ensure the referenced element exists with the correct ID"}))}),document.querySelectorAll('[role="button"]').forEach(o=>{let s=o;(!s.hasAttribute("tabindex")||s.tabIndex<0)&&n.push({element:s,type:"error",rule:"button-keyboard",message:'Element with role="button" is not keyboard accessible',suggestion:'Add tabindex="0" and keyboard event handlers'})}),n}checkFocusManagement(){let n=[];return document.querySelectorAll('[tabindex="-1"]').forEach(r=>{let l=r;l.tagName.toLowerCase()!=="main"&&n.push({element:l,type:"info",rule:"focus-management",message:'Element has tabindex="-1" - ensure this is intentional',suggestion:'Use tabindex="-1" only for programmatically focused elements'})}),n}generateAccessibilityReport(){let n=this.runAccessibilityAudit(),a=n.filter(s=>s.type==="error"),r=n.filter(s=>s.type==="warning"),l=n.filter(s=>s.type==="info"),o=`# Accessibility Audit Report

`;return o+=`**Total Issues Found:** ${n.length}
`,o+=`**Errors:** ${a.length}
`,o+=`**Warnings:** ${r.length}
`,o+=`**Info:** ${l.length}

`,a.length>0&&(o+=`## Errors (Must Fix)

`,a.forEach((s,m)=>{o+=`${m+1}. **${s.rule}**: ${s.message}
`,s.suggestion&&(o+=`   *Suggestion:* ${s.suggestion}
`),o+=`
`})),r.length>0&&(o+=`## Warnings (Should Fix)

`,r.forEach((s,m)=>{o+=`${m+1}. **${s.rule}**: ${s.message}
`,s.suggestion&&(o+=`   *Suggestion:* ${s.suggestion}
`),o+=`
`})),l.length>0&&(o+=`## Information (Consider Reviewing)

`,l.forEach((s,m)=>{o+=`${m+1}. **${s.rule}**: ${s.message}
`,s.suggestion&&(o+=`   *Suggestion:* ${s.suggestion}
`),o+=`
`})),n.length===0&&(o+=`## \u2705 Great! No accessibility issues found.

`,o+="Your page follows good accessibility practices."),o}logAccessibilityIssues(){let n=this.runAccessibilityAudit();if(n.length===0){console.log("%c\u2705 Accessibility Check: No issues found!","color: green; font-weight: bold;");return}console.group(`\u{1F50D} Accessibility Issues Found: ${n.length}`),n.forEach(a=>{let r=a.type==="error"?"red":a.type==="warning"?"orange":"blue",l=a.type==="error"?"\u274C":a.type==="warning"?"\u26A0\uFE0F":"\u2139\uFE0F";console.group(`${l} ${a.rule.toUpperCase()}`),console.log(`%c${a.message}`,`color: ${r}; font-weight: bold;`),a.suggestion&&console.log(`%c\u{1F4A1} ${a.suggestion}`,"color: blue;"),console.log("Element:",a.element),console.groupEnd()}),console.groupEnd()}static \u0275fac=function(a){return new(a||d)};static \u0275prov=C({token:d,factory:d.\u0275fac,providedIn:"root"})};function Z(d,n){if(d&1&&(i(0,"mat-card-content")(1,"div",13)(2,"div",14)(3,"mat-icon",15),t(4),e(),i(5,"span"),t(6,"High Contrast"),e(),i(7,"mat-chip"),t(8),e()(),i(9,"div",14)(10,"mat-icon",15),t(11),e(),i(12,"span"),t(13,"Large Text"),e(),i(14,"mat-chip"),t(15),e()(),i(16,"div",14)(17,"mat-icon",15),t(18),e(),i(19,"span"),t(20,"Reduced Motion"),e(),i(21,"mat-chip"),t(22),e()(),i(23,"div",14)(24,"mat-icon",15),t(25),e(),i(26,"span"),t(27,"Keyboard Navigation"),e(),i(28,"mat-chip"),t(29),e()(),i(30,"div",14)(31,"mat-icon",15),t(32),e(),i(33,"span"),t(34,"Screen Reader"),e(),i(35,"mat-chip"),t(36),e()()()()),d&2){let a=n.ngIf;c(3),p("active",a.highContrast),c(),u(" ",a.highContrast?"visibility":"visibility_off"," "),c(3),p("active",a.highContrast),c(),u(" ",a.highContrast?"ON":"OFF"," "),c(2),p("active",a.largeText),c(),u(" ",a.largeText?"text_increase":"text_fields"," "),c(3),p("active",a.largeText),c(),u(" ",a.largeText?"ON":"OFF"," "),c(2),p("active",a.reducedMotion),c(),u(" ",a.reducedMotion?"motion_photos_off":"motion_photos_on"," "),c(3),p("active",a.reducedMotion),c(),u(" ",a.reducedMotion?"ON":"OFF"," "),c(2),p("active",a.keyboardNavigation),c(),u(" ",a.keyboardNavigation?"keyboard":"mouse"," "),c(3),p("active",a.keyboardNavigation),c(),u(" ",a.keyboardNavigation?"DETECTED":"MOUSE MODE"," "),c(2),p("active",a.screenReader),c(),u(" ",a.screenReader?"record_voice_over":"voice_over_off"," "),c(3),p("active",a.screenReader),c(),u(" ",a.screenReader?"DETECTED":"NOT DETECTED"," ")}}function ee(d,n){if(d&1&&(i(0,"div",23)(1,"mat-icon"),t(2,"error"),e(),i(3,"span"),t(4),e()()),d&2){let a=b(2);c(4),u("",a.errorCount," Errors")}}function te(d,n){if(d&1&&(i(0,"div",24)(1,"mat-icon"),t(2,"warning"),e(),i(3,"span"),t(4),e()()),d&2){let a=b(2);c(4),u("",a.warningCount," Warnings")}}function ie(d,n){if(d&1&&(i(0,"div",25)(1,"mat-icon"),t(2,"info"),e(),i(3,"span"),t(4),e()()),d&2){let a=b(2);c(4),u("",a.infoCount," Info")}}function ne(d,n){d&1&&(i(0,"div",26)(1,"mat-icon"),t(2,"check_circle"),e(),i(3,"span"),t(4,"No Issues Found!"),e()())}function ae(d,n){if(d&1&&(i(0,"div",16)(1,"h3",17),t(2,"Test Results"),e(),i(3,"div",18),f(4,ee,5,1,"div",19)(5,te,5,1,"div",20)(6,ie,5,1,"div",21)(7,ne,5,0,"div",22),e()()),d&2){let a=b();c(4),g("ngIf",a.errorCount>0),c(),g("ngIf",a.warningCount>0),c(),g("ngIf",a.infoCount>0),c(),g("ngIf",a.totalIssues===0)}}function se(d,n){if(d&1){let a=A();i(0,"mat-card",27)(1,"mat-card-header")(2,"mat-card-title"),t(3,"Accessibility Report"),e(),i(4,"mat-card-subtitle"),t(5,"Detailed analysis results"),e()(),i(6,"mat-card-content")(7,"pre",28),t(8),e()(),i(9,"mat-card-actions")(10,"button",29),x("click",function(){E(a);let l=b();return _(l.copyReport())}),i(11,"mat-icon"),t(12,"content_copy"),e(),t(13," Copy Report "),e(),i(14,"button",29),x("click",function(){E(a);let l=b();return _(l.downloadReport())}),i(15,"mat-icon"),t(16,"download"),e(),t(17," Download Report "),e()()()}if(d&2){let a=b();c(8),M(a.accessibilityReport)}}var Q=class d{accessibilityService=v(V);testingService=v(y);accessibilityState$=this.accessibilityService.accessibilityState$;lastTestResults=null;accessibilityReport=null;get errorCount(){return this.lastTestResults?.filter(n=>n.type==="error").length||0}get warningCount(){return this.lastTestResults?.filter(n=>n.type==="warning").length||0}get infoCount(){return this.lastTestResults?.filter(n=>n.type==="info").length||0}get totalIssues(){return this.lastTestResults?.length||0}ngOnInit(){this.accessibilityService.announce("Accessibility dashboard loaded","polite")}runAccessibilityTest(){this.accessibilityService.announce("Running accessibility audit","polite"),setTimeout(()=>{this.lastTestResults=this.testingService.runAccessibilityAudit(),this.testingService.logAccessibilityIssues();let n=this.lastTestResults.length;this.accessibilityService.announce(n===0?"Accessibility audit complete. No issues found!":`Accessibility audit complete. Found ${n} issue${n===1?"":"s"}.`,"assertive")},500)}generateReport(){this.lastTestResults&&(this.accessibilityReport=this.testingService.generateAccessibilityReport(),this.accessibilityService.announce("Accessibility report generated","polite"))}copyReport(){this.accessibilityReport&&navigator.clipboard.writeText(this.accessibilityReport).then(()=>{this.accessibilityService.announce("Report copied to clipboard","polite")})}downloadReport(){if(this.accessibilityReport){let n=new Blob([this.accessibilityReport],{type:"text/markdown"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download=`accessibility-report-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),this.accessibilityService.announce("Report downloaded","polite")}}static \u0275fac=function(a){return new(a||d)};static \u0275cmp=S({type:d,selectors:[["app-accessibility-dashboard"]],decls:120,vars:6,consts:[["role","region","aria-labelledby","accessibility-heading",1,"accessibility-dashboard"],["id","accessibility-heading"],[1,"state-card"],[4,"ngIf"],[1,"testing-card"],[1,"testing-actions"],["mat-raised-button","","color","primary","aria-label","Run accessibility audit on current page",3,"click"],["mat-button","","aria-label","Generate detailed accessibility report",3,"click","disabled"],["class","test-results","role","region","aria-labelledby","results-heading",4,"ngIf"],[1,"features-card"],[1,"feature-panel"],[1,"feature-content"],["class","report-card",4,"ngIf"],[1,"settings-grid"],[1,"setting-item"],["aria-hidden","true"],["role","region","aria-labelledby","results-heading",1,"test-results"],["id","results-heading"],[1,"results-summary"],["class","result-item error",4,"ngIf"],["class","result-item warning",4,"ngIf"],["class","result-item info",4,"ngIf"],["class","result-item success",4,"ngIf"],[1,"result-item","error"],[1,"result-item","warning"],[1,"result-item","info"],[1,"result-item","success"],[1,"report-card"],[1,"report-content"],["mat-button","",3,"click"]],template:function(a,r){a&1&&(i(0,"div",0)(1,"h2",1),t(2,"Accessibility Dashboard"),e(),i(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),t(6,"Current Accessibility Settings"),e(),i(7,"mat-card-subtitle"),t(8,"Your personalized accessibility preferences"),e()(),f(9,Z,37,30,"mat-card-content",3),I(10,"async"),e(),i(11,"mat-card",4)(12,"mat-card-header")(13,"mat-card-title"),t(14,"Accessibility Testing"),e(),i(15,"mat-card-subtitle"),t(16,"Run automated accessibility checks"),e()(),i(17,"mat-card-content")(18,"div",5)(19,"button",6),x("click",function(){return r.runAccessibilityTest()}),i(20,"mat-icon"),t(21,"bug_report"),e(),t(22," Run Accessibility Audit "),e(),i(23,"button",7),x("click",function(){return r.generateReport()}),i(24,"mat-icon"),t(25,"description"),e(),t(26," Generate Report "),e()(),f(27,ae,8,4,"div",8),e()(),i(28,"mat-card",9)(29,"mat-card-header")(30,"mat-card-title"),t(31,"Accessibility Features"),e(),i(32,"mat-card-subtitle"),t(33,"Built-in accessibility enhancements"),e()(),i(34,"mat-card-content")(35,"mat-expansion-panel",10)(36,"mat-expansion-panel-header")(37,"mat-panel-title"),t(38,"Keyboard Navigation"),e(),i(39,"mat-panel-description"),t(40,"Navigate using keyboard shortcuts"),e()(),i(41,"div",11)(42,"p"),t(43,"The application supports full keyboard navigation:"),e(),i(44,"ul")(45,"li")(46,"kbd"),t(47,"Tab"),e(),t(48," / "),i(49,"kbd"),t(50,"Shift+Tab"),e(),t(51," - Navigate between elements"),e(),i(52,"li")(53,"kbd"),t(54,"Enter"),e(),t(55," / "),i(56,"kbd"),t(57,"Space"),e(),t(58," - Activate buttons and links"),e(),i(59,"li")(60,"kbd"),t(61,"Escape"),e(),t(62," - Close modals and overlays"),e(),i(63,"li")(64,"kbd"),t(65,"Alt+A"),e(),t(66," - Toggle accessibility toolbar"),e(),i(67,"li")(68,"kbd"),t(69,"Alt+H"),e(),t(70," - Toggle high contrast mode"),e(),i(71,"li")(72,"kbd"),t(73,"Alt+L"),e(),t(74," - Toggle large text mode"),e(),i(75,"li")(76,"kbd"),t(77,"Alt+M"),e(),t(78," - Toggle reduced motion"),e()()()(),i(79,"mat-expansion-panel",10)(80,"mat-expansion-panel-header")(81,"mat-panel-title"),t(82,"Screen Reader Support"),e(),i(83,"mat-panel-description"),t(84,"Optimized for assistive technologies"),e()(),i(85,"div",11)(86,"p"),t(87,"Enhanced screen reader support includes:"),e(),i(88,"ul")(89,"li"),t(90,"Proper ARIA labels and descriptions"),e(),i(91,"li"),t(92,"Live regions for dynamic content announcements"),e(),i(93,"li"),t(94,"Logical heading structure and landmarks"),e(),i(95,"li"),t(96,"Form field associations and validation messages"),e(),i(97,"li"),t(98,"Skip navigation links"),e()()()(),i(99,"mat-expansion-panel",10)(100,"mat-expansion-panel-header")(101,"mat-panel-title"),t(102,"Visual Accessibility"),e(),i(103,"mat-panel-description"),t(104,"Visual enhancements and customizations"),e()(),i(105,"div",11)(106,"p"),t(107,"Visual accessibility features:"),e(),i(108,"ul")(109,"li"),t(110,"High contrast mode for better visibility"),e(),i(111,"li"),t(112,"Large text mode for improved readability"),e(),i(113,"li"),t(114,"Reduced motion for users sensitive to animations"),e(),i(115,"li"),t(116,"Focus indicators for keyboard navigation"),e(),i(117,"li"),t(118,"Proper color contrast ratios"),e()()()()()(),f(119,se,18,1,"mat-card",12),e()),a&2&&(c(9),g("ngIf",k(10,4,r.accessibilityState$)),c(14),g("disabled",!r.lastTestResults),c(4),g("ngIf",r.lastTestResults),c(92),g("ngIf",r.accessibilityReport))},dependencies:[T,O,N,w,D,L,F,$,R,B,H,U,q,J,K,G,Y,W,j,z,P],styles:[".accessibility-dashboard[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.accessibility-dashboard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:24px;color:#333}.state-card[_ngcontent-%COMP%], .testing-card[_ngcontent-%COMP%], .features-card[_ngcontent-%COMP%], .report-card[_ngcontent-%COMP%]{margin-bottom:24px}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-top:16px}.setting-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid #e0e0e0;border-radius:8px;background:#fafafa}.setting-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.setting-item[_ngcontent-%COMP%]   mat-icon.active[_ngcontent-%COMP%]{color:#4caf50}.setting-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex-grow:1;font-weight:500}.setting-item[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{background:#e0e0e0;color:#666}.setting-item[_ngcontent-%COMP%]   mat-chip.active[_ngcontent-%COMP%]{background:#4caf50;color:#fff}.testing-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:20px}.test-results[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:8px;background:#f9f9f9}.results-summary[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;margin-top:12px}.result-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:20px;font-weight:500}.result-item.error[_ngcontent-%COMP%]{background:#ffebee;color:#c62828}.result-item.warning[_ngcontent-%COMP%]{background:#fff3e0;color:#ef6c00}.result-item.info[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.result-item.success[_ngcontent-%COMP%]{background:#e8f5e8;color:#2e7d32}.feature-panel[_ngcontent-%COMP%]{margin-bottom:8px}.feature-content[_ngcontent-%COMP%]{padding:16px 0}.feature-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:12px 0;padding-left:20px}.feature-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.feature-content[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{background:#f5f5f5;border:1px solid #ddd;border-radius:3px;padding:2px 6px;font-family:monospace;font-size:.9em}.report-content[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:4px;overflow-x:auto;white-space:pre-wrap;font-family:monospace;font-size:12px;line-height:1.4;max-height:400px;overflow-y:auto}.high-contrast[_ngcontent-%COMP%]   .accessibility-dashboard[_ngcontent-%COMP%]{background:#fff;color:#000}.high-contrast[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%], .high-contrast[_ngcontent-%COMP%]   .test-results[_ngcontent-%COMP%], .high-contrast[_ngcontent-%COMP%]   .report-content[_ngcontent-%COMP%]{background:#fff!important;border:2px solid black!important;color:#000!important}.high-contrast[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{background:#000!important;color:#fff!important}.large-text[_ngcontent-%COMP%]   .accessibility-dashboard[_ngcontent-%COMP%]{font-size:1.25rem}.large-text[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{padding:16px}.large-text[_ngcontent-%COMP%]   .feature-content[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.6}.reduced-motion[_ngcontent-%COMP%]   .accessibility-dashboard[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:none!important;animation:none!important}@media (max-width: 768px){.accessibility-dashboard[_ngcontent-%COMP%]{padding:16px}.settings-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.testing-actions[_ngcontent-%COMP%], .results-summary[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{Q as AccessibilityDashboardComponent};
