import{a as Pt,b as wt,c as Tt,d as It,e as Bt,f as Ft,g as Rt}from"./chunk-WJJ2BXBH.js";import{c as Ye,d as We,f as Ke}from"./chunk-6EZVK7FB.js";import{a as kt,d as Ct,e as Mt,g as yt}from"./chunk-TDWBTQJQ.js";import{a as ce}from"./chunk-YUS2JJNN.js";import{a as G,b as Pe,c as Z,d as we,e as ft,f as bt,g as B,h as vt,i as xt,j as St,k as Ot,l as Et}from"./chunk-SBJ4KG3H.js";import{b as oe,d as U,e as tt,f as ne,g as it,h as ot,i as nt,j as rt,k as re,l as at,m as st,n as lt,o as ct}from"./chunk-63RSQ63B.js";import{a as dt,b as mt,c as pt,d as gt,e as _t,f as ut,g as ae}from"./chunk-D6S2CYJF.js";import{$ as p,$a as b,$c as ht,Aa as _e,Ab as fe,Bb as P,Ca as s,Cb as ie,Cc as V,Db as l,Ea as Ie,Eb as v,Fa as $,Fb as C,Fc as Ce,Ga as I,Gb as be,Hb as Ve,Hc as Qe,Ib as Ne,Jb as He,Kb as ve,Kc as Je,Lb as je,Mb as qe,Na as k,Oa as y,Ob as $e,Oc as et,Pa as R,Pc as Me,Ra as u,Sa as S,Ta as D,Ub as Xe,W as Oe,X as M,Xc as ye,Z as F,_a as ue,_b as Ue,_c as x,a as K,ab as Be,ac as xe,bb as Fe,bc as ke,cb as m,cd as se,db as r,ea as g,eb as a,fa as _,fb as L,gb as ee,hb as te,hd as N,ib as X,j as Q,ja as J,jd as le,kd as H,ld as j,mb as w,mc as Ge,md as q,n as Se,na as Ee,nb as Re,nc as z,ob as h,pb as d,qb as De,rb as he,rc as Ze,sa as Te,sb as Le,sc as A,ub as ze,va as T,vb as Ae}from"./chunk-LE4ENPVO.js";var Kt=["*",[["mat-toolbar-row"]]],Qt=["*","mat-toolbar-row"],Jt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=R({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),Dt=(()=>{class i{_elementRef=p(T);_platform=p(V);_document=p(J);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=k({type:i,selectors:[["mat-toolbar"]],contentQueries:function(t,o,c){if(t&1&&Le(c,Jt,5),t&2){let f;ze(f=Ae())&&(o._toolbarRows=f)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,o){t&2&&(ie(o.color?"mat-"+o.color:""),P("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Qt,decls:2,vars:0,template:function(t,o){t&1&&(De(Kt),he(0),he(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return i})();var Lt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=M({imports:[x,x]})}return i})();var zt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=M({imports:[et,x,x]})}return i})();var E=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=M({imports:[x,Je,B,x]})}return i})();var ti=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=k({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(t,o){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return i})(),ii={passive:!0},At=(()=>{class i{_platform=p(V);_ngZone=p(D);_renderer=p(Ie).createRenderer(null,null);_styleLoader=p(Qe);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Se;this._styleLoader.load(ti);let t=Ce(e),o=this._monitoredElements.get(t);if(o)return o.subject;let c=new Q,f="cdk-text-field-autofilled",Y=W=>{W.animationName==="cdk-text-field-autofill-start"&&!t.classList.contains(f)?(t.classList.add(f),this._ngZone.run(()=>c.next({target:W.target,isAutofilled:!0}))):W.animationName==="cdk-text-field-autofill-end"&&t.classList.contains(f)&&(t.classList.remove(f),this._ngZone.run(()=>c.next({target:W.target,isAutofilled:!1})))},Wt=this._ngZone.runOutsideAngular(()=>(t.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(t,"animationstart",Y,ii)));return this._monitoredElements.set(t,{subject:c,unlisten:Wt}),c}stopMonitoring(e){let t=Ce(e),o=this._monitoredElements.get(t);o&&(o.unlisten(),o.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=Oe({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Vt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=M({})}return i})();var Nt=new F("MAT_INPUT_VALUE_ACCESSOR");var oi=["button","checkbox","file","hidden","image","radio","range","reset","submit"],ni=new F("MAT_INPUT_CONFIG"),de=(()=>{class i{_elementRef=p(T);_platform=p(V);ngControl=p(tt,{optional:!0,self:!0});_autofillMonitor=p(At);_ngZone=p(D);_formField=p(bt,{optional:!0});_renderer=p($);_uid=p(Me).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=p(ni,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Q;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=se(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(U.required)??!1}set required(e){this._required=se(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ye().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=se(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>ye().has(e));constructor(){let e=p(ot,{optional:!0}),t=p(re,{optional:!0}),o=p(vt),c=p(Nt,{optional:!0,self:!0}),f=this._elementRef.nativeElement,Y=f.nodeName.toLowerCase();c?Ee(c.value)?this._signalBasedValueAccessor=c:this._inputValueAccessor=c:this._inputValueAccessor=f,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(f,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new xt(o,this.ngControl,t,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=Y==="select",this._isTextarea=Y==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&Xe(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let t=this._elementRef.nativeElement;t.type==="number"?(t.type="text",t.setSelectionRange(0,0),t.type="number"):t.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let t=this._elementRef.nativeElement;this._previousPlaceholder=e,e?t.setAttribute("placeholder",e):t.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){oi.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let t=this._elementRef.nativeElement;e.length?t.setAttribute("aria-describedby",e.join(" ")):t.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let t=e.target;!t.value&&t.selectionStart===0&&t.selectionEnd===0&&(t.setSelectionRange(1,1),t.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(t){return new(t||i)};static \u0275dir=R({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(t,o){t&1&&h("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),t&2&&(Re("id",o.id)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),b("name",o.name||null)("readonly",o._getReadonlyAttribute())("aria-disabled",o.disabled&&o.disabledInteractive?"true":null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),P("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mat-mdc-input-disabled-interactive",o.disabledInteractive)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",xe]},exportAs:["matInput"],features:[je([{provide:ft,useExisting:i}]),Te]})}return i})(),me=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=M({imports:[x,E,E,Vt,x]})}return i})();function ri(i,n){i&1&&X(0,"div",2)}var ai=new F("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");var qt=(()=>{class i{_elementRef=p(T);_ngZone=p(D);_changeDetectorRef=p(Ue);_renderer=p($);_cleanupTransitionEnd;constructor(){let e=ht(),t=p(ai,{optional:!0});this._isNoopAnimation=e==="di-disabled",e==="reduced-motion"&&this._elementRef.nativeElement.classList.add("mat-progress-bar-reduced-motion"),t&&(t.color&&(this.color=this._defaultColor=t.color),this.mode=t.mode||this.mode)}_isNoopAnimation;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";get value(){return this._value}set value(e){this._value=jt(e||0),this._changeDetectorRef.markForCheck()}_value=0;get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=jt(e||0),this._changeDetectorRef.markForCheck()}_bufferValue=0;animationEnd=new S;get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}_mode="determinate";ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupTransitionEnd=this._renderer.listen(this._elementRef.nativeElement,"transitionend",this._transitionendHandler)})}ngOnDestroy(){this._cleanupTransitionEnd?.()}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${this.mode==="buffer"?this.bufferValue:100}%`}_isIndeterminate(){return this.mode==="indeterminate"||this.mode==="query"}_transitionendHandler=e=>{this.animationEnd.observers.length===0||!e.target||!e.target.classList.contains("mdc-linear-progress__primary-bar")||(this.mode==="determinate"||this.mode==="buffer")&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))};static \u0275fac=function(t){return new(t||i)};static \u0275cmp=k({type:i,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(t,o){t&2&&(b("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),ie("mat-"+o.color),P("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",ke],bufferValue:[2,"bufferValue","bufferValue",ke],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(t,o){t&1&&(ee(0,"div",0),X(1,"div",1),Be(2,ri,1,0,"div",2),te(),ee(3,"div",3),X(4,"span",4),te(),ee(5,"div",5),X(6,"span",4),te()),t&2&&(s(),fe("flex-basis",o._getBufferBarFlexBasis()),s(),Fe(o.mode==="buffer"?2:-1),s(),fe("transform",o._getPrimaryBarTransform()))},styles:[`.mat-mdc-progress-bar{--mat-progress-bar-animation-multiplier: 1;display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mat-progress-bar-reduced-motion{--mat-progress-bar-animation-multiplier: 2}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mat-progress-bar-track-height, 4px),var(--mat-progress-bar-active-indicator-height, 4px))}@media(forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mat-progress-bar-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mat-progress-bar-active-indicator-height, 4px)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mat-progress-bar-track-height, 4px);border-radius:var(--mat-progress-bar-track-shape, var(--mat-sys-corner-none))}.mdc-linear-progress__buffer-dots{background-image:radial-gradient(circle, var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant)) calc(var(--mat-progress-bar-track-height, 4px) / 2), transparent 0);background-repeat:repeat-x;background-size:calc(calc(var(--mat-progress-bar-track-height, 4px) / 2)*5);background-position:left;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse calc(250ms*var(--mat-progress-bar-animation-multiplier)) infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mat-progress-bar-track-color, var(--mat-sys-surface-variant))}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale calc(2s*var(--mat-progress-bar-animation-multiplier)) infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mat-progress-bar-track-height, 4px) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}
`],encapsulation:2,changeDetection:0})}return i})();function jt(i,n=0,e=100){return Math.max(n,Math.min(e,i))}var $t=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=y({type:i});static \u0275inj=M({imports:[x]})}return i})();function ci(i,n){i&1&&L(0,"mat-progress-bar",17)}function di(i,n){if(i&1){let e=w();r(0,"button",18),h("click",function(){g(e);let o=d();return _(o.clearSearch())}),r(1,"mat-icon",19),l(2,"close"),a()()}}function mi(i,n){if(i&1&&(r(0,"mat-error",20),l(1),a()),i&2){let e=d();s(),C(" ",e.getErrorMessage()," ")}}function pi(i,n){i&1&&(r(0,"mat-icon",19),l(1,"search"),a())}function gi(i,n){i&1&&(r(0,"mat-icon",21),l(1,"hourglass_empty"),a())}var pe=class i{constructor(n){this.formBuilder=n;this.searchForm=this.formBuilder.group({searchTerm:["",[U.required,U.minLength(3)]]})}isLoading=!1;searchSubmitted=new S;searchCleared=new S;searchForm;accessibilityService=p(ce);get searchTermControl(){return this.searchForm.get("searchTerm")}get hasSearchTerm(){return this.searchTermControl?.value?.trim().length>0}onSubmit(){if(this.searchForm.valid&&!this.isLoading){let n=this.searchTermControl?.value.trim(),e={query:n,startIndex:0,maxResults:12};this.accessibilityService.announce(`Searching for books with query: ${n}`,"assertive"),this.searchSubmitted.emit(e)}else this.searchForm.invalid&&this.accessibilityService.announce(this.getErrorMessage(),"assertive")}clearSearch(){this.searchForm.reset(),this.accessibilityService.announce("Search cleared","polite"),this.searchCleared.emit()}getErrorMessage(){return this.searchTermControl?.hasError("required")?"Search term is required":this.searchTermControl?.hasError("minlength")?"Search term must be at least 3 characters":""}static \u0275fac=function(e){return new(e||i)(I(st))};static \u0275cmp=k({type:i,selectors:[["app-search-form"]],inputs:{isLoading:"isLoading"},outputs:{searchSubmitted:"searchSubmitted",searchCleared:"searchCleared"},decls:23,vars:10,consts:[["role","region","aria-labelledby","search-heading",1,"search-form-container"],["id","search-heading",1,"sr-only"],["mode","indeterminate","class","search-progress","data-cy","loading-indicator","aria-label","Searching for books","role","progressbar",4,"ngIf"],["role","search","novalidate","",1,"search-form",3,"ngSubmit","formGroup"],[1,"search-fieldset"],[1,"sr-only"],["appearance","outline",1,"search-field"],["id","search-label"],["matInput","","formControlName","searchTerm","placeholder","Enter book title, author, or keywords...","aria-labelledby","search-label","aria-describedby","search-help search-error","data-cy","search-input","autocomplete","off","spellcheck","true",1,"search-input","focus-indicator",3,"keydown.enter"],["id","search-help",1,"sr-only"],["matPrefix","","aria-hidden","true"],["mat-icon-button","","matSuffix","","type","button","class","clear-button focus-indicator","aria-label","Clear search field","data-cy","clear-search","tabindex","0",3,"click",4,"ngIf"],["class","error-message","id","search-error","role","alert","aria-live","polite","data-cy","search-error",4,"ngIf"],["mat-raised-button","","color","primary","type","submit","data-cy","search-button",1,"search-button","focus-indicator",3,"disabled"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true","class","loading-icon",4,"ngIf"],[1,"button-text"],["mode","indeterminate","data-cy","loading-indicator","aria-label","Searching for books","role","progressbar",1,"search-progress"],["mat-icon-button","","matSuffix","","type","button","aria-label","Clear search field","data-cy","clear-search","tabindex","0",1,"clear-button","focus-indicator",3,"click"],["aria-hidden","true"],["id","search-error","role","alert","aria-live","polite","data-cy","search-error",1,"error-message"],["aria-hidden","true",1,"loading-icon"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"h2",1),l(2,"Book Search"),a(),u(3,ci,1,0,"mat-progress-bar",2),r(4,"form",3),h("ngSubmit",function(){return t.onSubmit()}),r(5,"fieldset",4)(6,"legend",5),l(7,"Search for books by title, author, or keywords"),a(),r(8,"mat-form-field",6)(9,"mat-label",7),l(10,"Search for books"),a(),r(11,"input",8),h("keydown.enter",function(){return t.onSubmit()}),a(),r(12,"div",9),l(13," Enter at least 3 characters to search for books "),a(),r(14,"mat-icon",10),l(15,"search"),a(),u(16,di,3,0,"button",11)(17,mi,2,1,"mat-error",12),a(),r(18,"button",13),u(19,pi,2,0,"mat-icon",14)(20,gi,2,0,"mat-icon",15),r(21,"span",16),l(22),a()()()()()),e&2&&(s(3),m("ngIf",t.isLoading),s(),m("formGroup",t.searchForm),s(7),b("aria-invalid",(t.searchTermControl==null?null:t.searchTermControl.invalid)&&(t.searchTermControl==null?null:t.searchTermControl.touched)),s(5),m("ngIf",t.hasSearchTerm),s(),m("ngIf",(t.searchTermControl==null?null:t.searchTermControl.touched)&&(t.searchTermControl==null?null:t.searchTermControl.errors)),s(),m("disabled",t.searchForm.invalid||t.isLoading),b("aria-label",t.isLoading?"Searching for books, please wait":"Search for books"),s(),m("ngIf",!t.isLoading),s(),m("ngIf",t.isLoading),s(2),C(" ",t.isLoading?"Searching...":"Search Books"," "))},dependencies:[A,z,ct,rt,oe,ne,it,re,at,me,de,B,G,Pe,Z,we,H,le,N,q,j,$t,qt,E],styles:[".search-form-container[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;position:relative}.search-form-container[_ngcontent-%COMP%]   .search-progress[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:1;height:2px}.search-form[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start;flex-wrap:wrap;padding:16px 0}@media (max-width: 600px){.search-form[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}.search-field[_ngcontent-%COMP%]{flex:1;min-width:300px}@media (max-width: 600px){.search-field[_ngcontent-%COMP%]{min-width:100%}}.search-field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:4px}.search-input[_ngcontent-%COMP%]{font-size:16px}.search-input[_ngcontent-%COMP%]::placeholder{font-style:italic;opacity:.7}.search-button[_ngcontent-%COMP%]{height:56px;min-width:140px;font-weight:500}@media (max-width: 600px){.search-button[_ngcontent-%COMP%]{width:100%;min-width:auto}}.search-button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{margin-left:8px}.search-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.clear-button[_ngcontent-%COMP%]{opacity:.7;transition:opacity .2s ease}.clear-button[_ngcontent-%COMP%]:hover{opacity:1}.error-message[_ngcontent-%COMP%]{font-size:12px;color:#f44336;margin-top:4px;animation:_ngcontent-%COMP%_fadeIn .2s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:2px solid #2196f3;outline-offset:2px}.search-form[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:focus{outline:2px solid #2196f3;outline-offset:2px}.search-form[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:focus{outline:2px solid #2196f3;outline-offset:2px}@media (prefers-contrast: high){.search-field[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%]{border-width:2px}.error-message[_ngcontent-%COMP%]{font-weight:700}}@media (prefers-reduced-motion: reduce){.error-message[_ngcontent-%COMP%]{animation:none}.clear-button[_ngcontent-%COMP%]{transition:none}}"]})};function _i(i,n){i&1&&(r(0,"div",6),L(1,"mat-spinner",7),r(2,"p",8),l(3,"Searching for books..."),a()())}function ui(i,n){i&1&&(r(0,"div",9)(1,"mat-icon",10),l(2,"menu_book"),a(),r(3,"h3"),l(4,"Ready to discover books"),a(),r(5,"p"),l(6,"Use the search form above to find your next great read!"),a()())}function hi(i,n){i&1&&(r(0,"div",11)(1,"mat-icon",12),l(2,"search_off"),a(),r(3,"h3"),l(4,"No books found"),a(),r(5,"p"),l(6,"Try different search terms or check your spelling."),a()())}function fi(i,n){i&1&&(r(0,"div",13)(1,"mat-icon",14),l(2,"error_outline"),a(),r(3,"h3"),l(4,"Unable to search for books"),a(),r(5,"p"),l(6,"Please check your connection and try again."),a()())}function bi(i,n){if(i&1&&(r(0,"span",23),l(1),a()),i&2){let e=d(2);s(),C('for "',e.searchResult.query,'"')}}function vi(i,n){if(i&1&&(r(0,"div",40)(1,"span",41),l(2,"by"),a(),r(3,"span",42),l(4),a()()),i&2){let e=d().$implicit;s(4),v(e.authors.join(", "))}}function xi(i,n){if(i&1&&(r(0,"span",43),l(1),a()),i&2){let e=d().$implicit;ue("aria-label",ve("Published in ",e.publishedDate)),s(),C(" ",e.publishedDate," ")}}function ki(i,n){if(i&1&&(r(0,"span",44),l(1),a()),i&2){let e=d().$implicit;ue("aria-label",ve("",e.pageCount," pages")),s(),C(" ",e.pageCount," pages ")}}function Ci(i,n){if(i&1&&(r(0,"p",45),l(1),qe(2,"slice"),a()),i&2){let e=d().$implicit;s(),be(" ",$e(2,2,e.description,0,150),"",e.description.length>150?"...":""," ")}}function Mi(i,n){if(i&1){let e=w();r(0,"div",26)(1,"mat-card",27),h("click",function(){let o=g(e).$implicit,c=d(3);return _(c.onViewDetails(o))})("keydown.enter",function(){let o=g(e).$implicit,c=d(3);return _(c.onViewDetails(o))})("keydown.space",function(o){let c=g(e).$implicit;return d(3).onViewDetails(c),_(o.preventDefault())}),r(2,"div",28)(3,"img",29),h("error",function(o){g(e);let c=d(3);return _(c.handleImageError(o))})("load",function(o){g(e);let c=d(3);return _(c.handleImageLoad(o))}),a()(),r(4,"mat-card-content",30)(5,"h3",31),l(6),a(),u(7,vi,5,1,"div",32),r(8,"div",33),u(9,xi,2,3,"span",34)(10,ki,2,3,"span",35),a(),u(11,Ci,3,6,"p",36),a(),r(12,"mat-card-actions",37)(13,"button",38),h("click",function(o){let c=g(e).$implicit;return d(3).onToggleFavorite(c),_(o.stopPropagation())})("keydown.enter",function(o){let c=g(e).$implicit;return d(3).onToggleFavorite(c),_(o.stopPropagation())})("keydown.space",function(o){let c=g(e).$implicit;return d(3).onToggleFavorite(c),o.stopPropagation(),_(o.preventDefault())}),r(14,"mat-icon"),l(15),a()(),r(16,"button",39),h("click",function(o){let c=g(e).$implicit;return d(3).onViewDetails(c),_(o.stopPropagation())})("keydown.enter",function(o){let c=g(e).$implicit;return d(3).onViewDetails(c),_(o.stopPropagation())})("keydown.space",function(o){let c=g(e).$implicit;return d(3).onViewDetails(c),o.stopPropagation(),_(o.preventDefault())}),l(17," View Details "),a()()()()}if(i&2){let e=n.$implicit,t=d(3);s(),b("aria-label",t.getBookAriaLabel(e)),s(2),m("src",t.getBookThumbnail(e),_e)("alt","Cover of "+e.title),s(2),m("title",e.title),s(),v(e.title),s(),m("ngIf",e.authors&&e.authors.length),s(2),m("ngIf",e.publishedDate),s(),m("ngIf",e.pageCount),s(),m("ngIf",e.description),s(2),P("favorited",t.favoriteBookIds.has(e.id)),b("aria-label",t.getFavoriteButtonAriaLabel(e))("aria-pressed",t.isFavorite(e.id)),s(),b("aria-hidden",!0),s(),v(t.favoriteBookIds.has(e.id)?"favorite":"favorite_border"),s(),b("aria-label","View details for "+e.title)}}function yi(i,n){if(i&1&&(r(0,"cdk-virtual-scroll-viewport",24),u(1,Mi,18,16,"div",25),a()),i&2){let e=d(2);s(),m("cdkVirtualForOf",e.searchResult.books)("cdkVirtualForTrackBy",e.trackByBookId)}}function Pi(i,n){if(i&1&&(r(0,"span",65),l(1),a()),i&2){let e=d(2).$implicit;s(),C("(",e.ratingsCount,")")}}function wi(i,n){if(i&1&&(r(0,"div",61)(1,"mat-icon",62),l(2,"star"),a(),r(3,"span",63),l(4),a(),u(5,Pi,2,1,"span",64),a()),i&2){let e=d().$implicit;s(4),v(e.averageRating),s(),m("ngIf",e.ratingsCount)}}function Si(i,n){if(i&1&&(r(0,"div",66)(1,"mat-icon",67),l(2,"calendar_today"),a(),r(3,"span"),l(4),a()()),i&2){let e=d().$implicit,t=d(3);s(4),v(t.formatPublishedDate(e.publishedDate))}}function Oi(i,n){if(i&1&&(r(0,"div",68)(1,"mat-icon",69),l(2,"description"),a(),r(3,"span"),l(4),a()()),i&2){let e=d().$implicit;s(4),C("",e.pageCount," pages")}}function Ei(i,n){if(i&1&&(r(0,"div",70)(1,"mat-icon",71),l(2,"business"),a(),r(3,"span"),l(4),a()()),i&2){let e=d().$implicit;s(4),v(e.publisher)}}function Ti(i,n){if(i&1&&(r(0,"mat-chip"),l(1),a()),i&2){let e=n.$implicit;s(),C(" ",e," ")}}function Ii(i,n){if(i&1&&(r(0,"mat-chip",75),l(1),a()),i&2){let e=d(2).$implicit;s(),C(" +",e.categories.length-3," more ")}}function Bi(i,n){if(i&1&&(r(0,"div",72)(1,"mat-chip-set"),u(2,Ti,2,1,"mat-chip",73)(3,Ii,2,1,"mat-chip",74),a()()),i&2){let e=d().$implicit;s(2),m("ngForOf",e.categories==null?null:e.categories.slice(0,3)),s(),m("ngIf",e.categories&&e.categories.length>3)}}function Fi(i,n){if(i&1){let e=w();r(0,"mat-card",48),h("click",function(){let o=g(e).$implicit,c=d(3);return _(c.onViewDetails(o))}),r(1,"div",28)(2,"img",49),h("error",function(o){g(e);let c=d(3);return _(c.handleImageError(o))})("load",function(o){g(e);let c=d(3);return _(c.handleImageLoad(o))}),a()(),r(3,"mat-card-header",50)(4,"mat-card-title",51),l(5),a(),r(6,"mat-card-subtitle",52),l(7),a()(),r(8,"mat-card-content",30)(9,"p",53),l(10),a(),r(11,"div",54),u(12,wi,6,2,"div",55)(13,Si,5,1,"div",56)(14,Oi,5,1,"div",57)(15,Ei,5,1,"div",58),a(),u(16,Bi,4,2,"div",59),a(),r(17,"mat-card-actions",37)(18,"button",60),h("click",function(o){let c=g(e).$implicit;return d(3).onToggleFavorite(c),_(o.stopPropagation())}),r(19,"mat-icon"),l(20),a()()()()}if(i&2){let e=n.$implicit,t=d(3);s(2),m("src",t.getBookThumbnail(e),_e)("alt",e.title+" cover"),s(3),v(e.title),s(2),v(t.getBookAuthors(e)),s(3),v(t.truncateDescription(e.description)),s(2),m("ngIf",e.averageRating),s(),m("ngIf",e.publishedDate),s(),m("ngIf",e.pageCount),s(),m("ngIf",e.publisher),s(),m("ngIf",e.categories&&e.categories.length>0),s(2),b("aria-label",(t.isFavorite(e.id)?"Remove from":"Add to")+" favorites"),s(2),v(t.isFavorite(e.id)?"favorite":"favorite_border")}}function Ri(i,n){if(i&1&&(r(0,"div",46),u(1,Fi,21,12,"mat-card",47),a()),i&2){let e=d(2);s(),m("ngForOf",e.searchResult.books)("ngForTrackBy",e.trackByBookId)}}function Di(i,n){i&1&&(r(0,"div",76)(1,"button",77)(2,"mat-icon"),l(3,"expand_more"),a(),l(4," Load More Results (Coming Soon) "),a()())}function Li(i,n){if(i&1&&(r(0,"div",15)(1,"div",16)(2,"h2",17),l(3,"Search Results"),a(),r(4,"p",18),l(5),u(6,bi,2,1,"span",19),a()(),u(7,yi,2,2,"cdk-virtual-scroll-viewport",20)(8,Ri,2,2,"div",21)(9,Di,5,0,"div",22),a()),i&2){let e=d();s(5),be(" Showing ",e.searchResult.books.length," of ",e.searchResult.totalItems," books "),s(),m("ngIf",e.searchResult.query),s(),m("ngIf",e.searchResult.books.length>20),s(),m("ngIf",e.searchResult.books.length<=20),s(),m("ngIf",e.searchResult.hasMoreResults)}}var ge=class i{searchResult=null;isLoading=!1;hasError=!1;favoriteBookIds=new Set;bookSelected=new S;favoriteToggled=new S;accessibilityService=p(ce);onViewDetails(n){this.accessibilityService.announce(`Opening details for ${n.title} by ${n.authors?.join(", ")||"Unknown Author"}`,"polite"),this.bookSelected.emit(n)}onToggleFavorite(n){let t=this.isFavorite(n.id)?"removed from":"added to";this.accessibilityService.announce(`${n.title} ${t} favorites`,"polite"),this.favoriteToggled.emit(n)}isFavorite(n){return this.favoriteBookIds.has(n)}trackByBookId(n,e){return e.id}getBookAriaLabel(n){let e=n.title||"Unknown Title",t=n.authors?.join(", ")||"Unknown Author",o=n.publishedDate||"Unknown Date",c=n.averageRating?`, Rating: ${n.averageRating} stars`:"";return`${e} by ${t}, published ${o}${c}`}getFavoriteButtonAriaLabel(n){return`${this.isFavorite(n.id)?"Remove from":"Add to"} favorites: ${n.title}`}getBookThumbnail(n){return n.imageLinks?.thumbnail||n.imageLinks?.smallThumbnail||"/assets/images/book-placeholder.png"}handleImageError(n){let e=n.target;e.src!=="assets/images/book-placeholder.png"&&(e.src="assets/images/book-placeholder.png")}handleImageLoad(n){let e=n.target;e.style.opacity="1",e.style.transition="opacity 0.3s ease"}getBookAuthors(n){return n.authors?.join(", ")||"Unknown Author"}truncateDescription(n,e=200){return n?n.length<=e?n:n.substring(0,e).trim()+"...":"No description available."}formatPublishedDate(n){return n?new Date(n).getFullYear().toString():""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=k({type:i,selectors:[["app-book-list"]],inputs:{searchResult:"searchResult",isLoading:"isLoading",hasError:"hasError",favoriteBookIds:"favoriteBookIds"},outputs:{bookSelected:"bookSelected",favoriteToggled:"favoriteToggled"},decls:6,vars:5,consts:[["role","region","aria-labelledby","results-heading",1,"book-list-container"],["class","loading-state","data-cy","loading-indicator","role","status","aria-live","polite",4,"ngIf"],["class","empty-state","data-cy","empty-state","role","status",4,"ngIf"],["class","no-results","data-cy","no-results","role","status","aria-live","polite",4,"ngIf"],["class","error-state","data-cy","error-message","role","alert","aria-live","assertive",4,"ngIf"],["class","results-container",4,"ngIf"],["data-cy","loading-indicator","role","status","aria-live","polite",1,"loading-state"],["diameter","50","aria-label","Loading books"],[1,"loading-message"],["data-cy","empty-state","role","status",1,"empty-state"],["aria-hidden","true",1,"empty-icon"],["data-cy","no-results","role","status","aria-live","polite",1,"no-results"],["aria-hidden","true",1,"no-results-icon"],["data-cy","error-message","role","alert","aria-live","assertive",1,"error-state"],["aria-hidden","true",1,"error-icon"],[1,"results-container"],["role","status","aria-live","polite",1,"results-summary"],["id","results-heading"],[1,"results-count"],["class","search-query",4,"ngIf"],["itemSize","400","class","book-viewport","role","list","aria-label","Search results",4,"ngIf"],["class","books-grid","role","list","data-cy","book-list",4,"ngIf"],["class","load-more-container",4,"ngIf"],[1,"search-query"],["itemSize","400","role","list","aria-label","Search results",1,"book-viewport"],["class","virtual-book-item",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"virtual-book-item"],["role","listitem","data-cy","book-item","tabindex","0",1,"book-card","focus-indicator",3,"click","keydown.enter","keydown.space"],[1,"book-image-container"],["loading","lazy",1,"book-image",3,"error","load","src","alt"],[1,"book-content"],[1,"book-title",3,"title"],["class","book-authors",4,"ngIf"],[1,"book-meta"],["class","published-date",3,"aria-label",4,"ngIf"],["class","page-count",3,"aria-label",4,"ngIf"],["class","book-description",4,"ngIf"],[1,"book-actions"],["mat-icon-button","","data-cy","favorite-button",1,"focus-indicator",3,"click","keydown.enter","keydown.space"],["mat-button","","color","primary","data-cy","view-details-button",1,"focus-indicator",3,"click","keydown.enter","keydown.space"],[1,"book-authors"],[1,"author-label"],[1,"author-names"],[1,"published-date",3,"aria-label"],[1,"page-count",3,"aria-label"],[1,"book-description"],["role","list","data-cy","book-list",1,"books-grid"],["class","book-card","role","listitem","data-cy","book-item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem","data-cy","book-item",1,"book-card",3,"click"],["loading","lazy","data-cy","book-thumbnail",1,"book-thumbnail",3,"error","load","src","alt"],[1,"book-header"],["data-cy","book-title",1,"book-title"],["data-cy","book-authors",1,"book-authors"],["data-cy","book-description",1,"book-description"],[1,"book-metadata"],["class","book-rating","data-cy","book-rating",4,"ngIf"],["class","published-date","data-cy","book-publication-year",4,"ngIf"],["class","page-count","data-cy","book-page-count",4,"ngIf"],["class","publisher","data-cy","book-publisher",4,"ngIf"],["class","book-categories","data-cy","book-categories",4,"ngIf"],["mat-icon-button","","data-cy","favorite-button",1,"favorite-btn",3,"click"],["data-cy","book-rating",1,"book-rating"],[1,"rating-icon"],[1,"rating-value"],["class","rating-count",4,"ngIf"],[1,"rating-count"],["data-cy","book-publication-year",1,"published-date"],[1,"date-icon"],["data-cy","book-page-count",1,"page-count"],[1,"page-icon"],["data-cy","book-publisher",1,"publisher"],[1,"publisher-icon"],["data-cy","book-categories",1,"book-categories"],[4,"ngFor","ngForOf"],["class","more-categories",4,"ngIf"],[1,"more-categories"],[1,"load-more-container"],["mat-stroked-button","","data-cy","load-more-button","disabled","",1,"load-more-btn"]],template:function(e,t){e&1&&(r(0,"div",0),u(1,_i,4,0,"div",1)(2,ui,7,0,"div",2)(3,hi,7,0,"div",3)(4,fi,7,0,"div",4)(5,Li,10,6,"div",5),a()),e&2&&(s(),m("ngIf",t.isLoading),s(),m("ngIf",!t.searchResult&&!t.isLoading),s(),m("ngIf",t.searchResult&&t.searchResult.books.length===0&&!t.isLoading),s(),m("ngIf",t.hasError&&!t.isLoading),s(),m("ngIf",t.searchResult&&t.searchResult.books.length>0&&!t.isLoading))},dependencies:[A,Ge,z,yt,kt,Mt,Ct,ae,dt,_t,pt,ut,gt,mt,H,le,N,q,j,Et,St,Ot,It,Tt,Ze],styles:[".book-list-container[_ngcontent-%COMP%]{width:100%;padding:24px 0}.book-viewport[_ngcontent-%COMP%]{height:600px;width:100%;border:1px solid #ccc;border-radius:8px}.virtual-book-item[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #eee}.virtual-book-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.book-viewport[_ngcontent-%COMP%]   .book-card[_ngcontent-%COMP%]{margin:0 0 16px}@media (min-width: 768px){.book-viewport[_ngcontent-%COMP%]{height:800px}}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;text-align:center}.loading-state[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{margin-top:16px;font-size:1.1em;color:#666}.empty-state[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;text-align:center;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .empty-state[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:4em;width:1em;height:1em;opacity:.5;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;font-weight:400;margin:0 0 8px;color:#333}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1em;opacity:.8}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{margin-bottom:32px;padding:0 16px}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;font-weight:400;margin:0 0 8px;color:#333}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{margin:0;font-size:.9em;color:#666}.results-container[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]   .search-query[_ngcontent-%COMP%]{font-style:italic;color:#2196f3}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;padding:0 16px}@media (max-width: 768px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;padding:0 8px}}.book-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;transition:transform .2s ease,box-shadow .2s ease;border-radius:12px;overflow:hidden}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:16px;background:linear-gradient(135deg,#f5f5f5,#e8e8e8);min-height:200px;align-items:center}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{max-width:120px;max-height:180px;border-radius:4px;box-shadow:0 4px 12px #0000001a;transition:transform .2s ease}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]{padding:16px 16px 8px}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:500;line-height:1.4;margin-bottom:4px;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-authors[_ngcontent-%COMP%]{color:#666;font-size:.9em;line-height:1.3}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]{flex:1;padding:8px 16px 16px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{font-size:.85em;line-height:1.5;color:#555;margin:0 0 16px;display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.8em;color:#666}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-right:6px;opacity:.7}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-icon[_ngcontent-%COMP%]{color:gold;opacity:1}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:500;color:#333;margin-right:4px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%]   .book-rating[_ngcontent-%COMP%]   .rating-count[_ngcontent-%COMP%]{opacity:.7}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75em;height:24px;line-height:24px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-categories[_ngcontent-%COMP%]   mat-chip-set[_ngcontent-%COMP%]   mat-chip.more-categories[_ngcontent-%COMP%]{background-color:#e0e0e0;color:#666}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;border-top:1px solid #e0e0e0}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{flex:1;margin-right:8px}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:6px;font-size:18px;width:18px;height:18px}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .favorite-btn[_ngcontent-%COMP%]{color:#e91e63}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .favorite-btn[_ngcontent-%COMP%]:hover{background-color:#e91e631a}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:32px;padding:0 16px}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]{padding:12px 24px;font-size:.9em}.load-more-container[_ngcontent-%COMP%]   .load-more-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]{min-height:160px}.book-card[_ngcontent-%COMP%]   .book-image-container[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{max-width:100px;max-height:150px}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]{padding:12px 12px 6px}.book-card[_ngcontent-%COMP%]   .book-header[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:1em}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]{padding:6px 12px 12px}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:.75em}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{padding:10px 12px}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{font-size:.8em;padding:8px 12px}}@media (prefers-contrast: high){.book-card[_ngcontent-%COMP%]{border:2px solid #333}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{border-top-color:#333}.results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000}}@media (prefers-reduced-motion: reduce){.book-card[_ngcontent-%COMP%]{transition:none}.book-card[_ngcontent-%COMP%]:hover{transform:none}.book-card[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{transition:none}.book-card[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]:hover{transform:none}}@media (prefers-color-scheme: dark){.empty-state[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]{color:#ccc}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{color:#ccc}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-metadata[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#aaa}}"]})};function zi(i,n){if(i&1&&(r(0,"span",16),l(1),a()),i&2){let e=d();s(),v(e.favoritesCount)}}function Ai(i,n){if(i&1&&(r(0,"span",17),l(1),a()),i&2){let e=d();s(),C(' Searching for: "',e.currentSearchTerm,'" ')}}function Vi(i,n){i&1&&(r(0,"div",27)(1,"mat-icon",28),l(2,"favorite_border"),a(),r(3,"h3"),l(4,"No favorite books yet"),a(),r(5,"p"),l(6,"Books you favorite will appear here for quick access."),a()())}function Ni(i,n){i&1&&(r(0,"div",29)(1,"mat-icon",30),l(2,"search_off"),a(),r(3,"h3"),l(4,"No favorites match your search"),a(),r(5,"p"),l(6,"Try different keywords or browse all your favorites."),a()())}function Hi(i,n){if(i&1){let e=w();r(0,"app-book-list",31),h("bookSelected",function(o){g(e);let c=d(2);return _(c.onBookSelected(o))})("favoriteToggled",function(o){g(e);let c=d(2);return _(c.onFavoriteToggled(o))}),a()}if(i&2){let e=d(2);m("searchResult",e.favoritesAsSearchResult)("isLoading",!1)("favoriteBookIds",e.favoriteBookIds)}}function ji(i,n){if(i&1){let e=w();r(0,"section",18)(1,"div",19)(2,"h2"),l(3,"Your Favorite Books"),a(),r(4,"mat-form-field",20)(5,"mat-label"),l(6,"Search favorites"),a(),r(7,"input",21),He("ngModelChange",function(o){g(e);let c=d();return Ne(c.favoritesSearchTerm,o)||(c.favoritesSearchTerm=o),_(o)}),h("ngModelChange",function(){g(e);let o=d();return _(o.updateFilteredFavorites())}),a(),r(8,"mat-icon",22),l(9,"search"),a()()(),r(10,"div",23),u(11,Vi,7,0,"div",24)(12,Ni,7,0,"div",25)(13,Hi,1,3,"app-book-list",26),a()()}if(i&2){let e=d();s(7),Ve("ngModel",e.favoritesSearchTerm),s(4),m("ngIf",e.filteredFavorites.length===0&&e.favorites.length===0),s(),m("ngIf",e.filteredFavorites.length===0&&e.favorites.length>0),s(),m("ngIf",e.filteredFavorites.length>0)}}function qi(i,n){i&1&&(r(0,"div",36)(1,"mat-icon",37),l(2,"search"),a(),r(3,"h3"),l(4,"Please enter a search term"),a(),r(5,"p"),l(6,"Use the search box above to find books."),a()())}function $i(i,n){if(i&1){let e=w();r(0,"section",32)(1,"div",33),u(2,qi,7,0,"div",34),r(3,"app-book-list",35),h("bookSelected",function(o){g(e);let c=d();return _(c.onBookSelected(o))})("favoriteToggled",function(o){g(e);let c=d();return _(c.onFavoriteToggled(o))}),a()()()}if(i&2){let e=d();s(2),m("ngIf",!e.searchResult&&!e.isLoading),s(),m("searchResult",e.searchResult)("isLoading",e.isLoading)("hasError",e.hasSearchError)("favoriteBookIds",e.favoriteBookIds)}}function Xi(i,n){if(i&1){let e=w();r(0,"div",38)(1,"div",39),h("click",function(){g(e);let o=d();return _(o.onBookDetailsClose())}),a(),r(2,"div",40)(3,"app-book-details",41),h("closed",function(){g(e);let o=d();return _(o.onBookDetailsClose())})("favoriteToggled",function(o){g(e);let c=d();return _(c.onBookDetailsFavoriteToggled(o))})("previewRequested",function(o){g(e);let c=d();return _(c.onBookPreviewRequested(o))})("purchaseRequested",function(o){g(e);let c=d();return _(c.onBookPurchaseRequested(o))}),a()()()}if(i&2){let e=d();P("show",e.showBookDetails),s(3),m("book",e.selectedBook)("isLoading",!1)("hasError",e.hasDetailsError)}}var Yt=class i{constructor(n,e,t,o){this.bookService=n;this.dialog=e;this.favoritesService=t;this.router=o}searchResult=null;isLoading=!1;hasSearchError=!1;hasDetailsError=!1;currentSearchTerm="";favoriteBookIds=new Set;selectedBook=null;showBookDetails=!1;isShowingFavorites=!1;favorites=[];favoritesSearchTerm="";filteredFavorites=[];favoritesCount=0;showFilters=!1;activeFilters={};ngOnInit(){console.log("SearchPage component initialized"),this.loadFavorites(),this.favoritesService.favorites$.subscribe(()=>{this.loadFavorites()}),this.loadPopularBooks()}get favoritesAsSearchResult(){return{books:this.filteredFavorites,totalItems:this.filteredFavorites.length,query:this.favoritesSearchTerm,hasMoreResults:!1,currentPage:1,itemsPerPage:this.filteredFavorites.length,searchTimestamp:new Date}}toggleFavoritesView(){this.isShowingFavorites=!this.isShowingFavorites,this.isShowingFavorites&&(this.favoritesSearchTerm="",this.updateFilteredFavorites())}toggleFilters(){this.showFilters=!this.showFilters}onFiltersChanged(n){if(this.activeFilters=n,this.currentSearchTerm){let e=K({query:this.currentSearchTerm},n);this.onSearchSubmitted(e)}}loadFavorites(){this.favorites=this.favoritesService.getFavorites(),this.favoritesCount=this.favorites.length,this.favoriteBookIds=this.favoritesService.getFavoriteIds(),this.updateFilteredFavorites()}updateFilteredFavorites(){if(!this.favoritesSearchTerm.trim())this.filteredFavorites=this.favorites;else{let n=this.favoritesSearchTerm.toLowerCase();this.filteredFavorites=this.favorites.filter(e=>e.title.toLowerCase().includes(n)||e.authors?.some(t=>t.toLowerCase().includes(n))||e.description?.toLowerCase().includes(n))}}set favoritesSearchValue(n){this.favoritesSearchTerm=n,this.updateFilteredFavorites()}onSearchSubmitted(n){this.isLoading=!0,this.hasSearchError=!1,this.currentSearchTerm=n.query,this.isShowingFavorites=!1;let e=K(K({},n),this.activeFilters);this.bookService.searchBooks(e).subscribe({next:t=>{this.searchResult=t,this.isLoading=!1,this.hasSearchError=!1},error:t=>{console.error("Search failed:",t),this.isLoading=!1,this.hasSearchError=!0,this.searchResult=null}})}onSearchCleared(){this.currentSearchTerm="",this.searchResult=null,this.hasSearchError=!1,this.loadPopularBooks()}onBookSelected(n){console.log("Book selected:",n),this.router.navigate(["/book",n.id])}onFavoriteToggled(n){this.favoritesService.toggleFavorite(n),console.log("Favorites updated. Total count:",this.favoritesService.getFavoritesCount()),this.isShowingFavorites&&this.updateFilteredFavorites()}onBookDetailsClose(){this.showBookDetails=!1,this.selectedBook=null,this.hasDetailsError=!1}onBookDetailsFavoriteToggled(n){this.onFavoriteToggled(n)}onBookPreviewRequested(n){console.log("Preview requested for book:",n.title)}onBookPurchaseRequested(n){console.log("Purchase requested for book:",n.title)}loadPopularBooks(){this.isLoading=!0,this.hasSearchError=!1,this.bookService.getPopularBooks().subscribe({next:n=>{this.searchResult=n,this.isLoading=!1,this.hasSearchError=!1},error:n=>{console.error("Failed to load popular books:",n),this.isLoading=!1,this.hasSearchError=!0}})}trackByBookId(n,e){return e.id}static \u0275fac=function(e){return new(e||i)(I(Rt),I(Pt),I(Bt),I(Ye))};static \u0275cmp=k({type:i,selectors:[["app-search-page"]],decls:25,vars:10,consts:[[1,"search-page-container"],["color","primary",1,"page-header"],[1,"toolbar-title"],[1,"spacer"],["mat-icon-button","","routerLink","/performance","aria-label","View performance dashboard","title","Performance Dashboard"],["mat-icon-button","","data-cy","favorites-toggle",1,"favorites-toggle",3,"click"],["class","favorites-badge","data-cy","favorites-count",4,"ngIf"],["class","toolbar-subtitle",4,"ngIf"],["aria-label","Book search",1,"search-section"],[1,"search-container"],[1,"search-title"],[1,"search-subtitle"],[3,"searchSubmitted","searchCleared","isLoading"],["class","favorites-section","aria-label","Favorite books","data-cy","favorites-view",4,"ngIf"],["class","book-list-section","aria-label","Search results",4,"ngIf"],["class","book-details-modal",3,"show",4,"ngIf"],["data-cy","favorites-count",1,"favorites-badge"],[1,"toolbar-subtitle"],["aria-label","Favorite books","data-cy","favorites-view",1,"favorites-section"],[1,"favorites-header"],["appearance","outline",1,"favorites-search"],["matInput","","placeholder","Search your favorites...","data-cy","favorites-search",3,"ngModelChange","ngModel"],["matPrefix",""],[1,"favorites-content"],["class","no-favorites","data-cy","no-favorites-message",4,"ngIf"],["class","no-search-results","data-cy","no-search-results",4,"ngIf"],[3,"searchResult","isLoading","favoriteBookIds","bookSelected","favoriteToggled",4,"ngIf"],["data-cy","no-favorites-message",1,"no-favorites"],[1,"no-favorites-icon"],["data-cy","no-search-results",1,"no-search-results"],[1,"no-results-icon"],[3,"bookSelected","favoriteToggled","searchResult","isLoading","favoriteBookIds"],["aria-label","Search results",1,"book-list-section"],[1,"book-list-container"],["class","empty-search-state","data-cy","no-results",4,"ngIf"],[3,"bookSelected","favoriteToggled","searchResult","isLoading","hasError","favoriteBookIds"],["data-cy","no-results",1,"empty-search-state"],[1,"empty-icon"],[1,"book-details-modal"],[1,"modal-backdrop",3,"click"],[1,"modal-content"],[3,"closed","favoriteToggled","previewRequested","purchaseRequested","book","isLoading","hasError"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"span",2)(3,"mat-icon"),l(4,"library_books"),a(),l(5," FindBook "),a(),L(6,"span",3),r(7,"button",4)(8,"mat-icon"),l(9,"speed"),a()(),r(10,"button",5),h("click",function(){return t.toggleFavoritesView()}),r(11,"mat-icon"),l(12),a(),u(13,zi,2,1,"span",6),a(),u(14,Ai,2,1,"span",7),a(),r(15,"section",8)(16,"div",9)(17,"h1",10),l(18,"Find Your Next Great Read"),a(),r(19,"p",11),l(20," Search through millions of books by title, author, ISBN, or keywords. "),a(),r(21,"app-search-form",12),h("searchSubmitted",function(c){return t.onSearchSubmitted(c)})("searchCleared",function(){return t.onSearchCleared()}),a()()(),u(22,ji,14,4,"section",13)(23,$i,4,5,"section",14)(24,Xi,4,5,"div",15),a()),e&2&&(s(10),P("active",t.isShowingFavorites),b("aria-label",t.isShowingFavorites?"Show all books":"Show favorites"),s(2),v(t.isShowingFavorites?"favorite":"favorite_border"),s(),m("ngIf",t.favoritesCount>0),s(),m("ngIf",t.currentSearchTerm),s(7),m("isLoading",t.isLoading),s(),m("ngIf",t.isShowingFavorites),s(),m("ngIf",!t.isShowingFavorites),s(),m("ngIf",t.showBookDetails))},dependencies:[A,z,lt,oe,ne,nt,Ke,We,Lt,Dt,ae,H,N,q,j,zt,E,B,G,Z,me,de,wt,pe,ge,Ft],styles:[".search-page-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#fafafa}.page-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100}.page-header[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:500;font-size:1.2em}.page-header[_ngcontent-%COMP%]   .toolbar-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.page-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.page-header[_ngcontent-%COMP%]   .toolbar-subtitle[_ngcontent-%COMP%]{font-size:.9em;opacity:.9;font-style:italic}.search-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);color:#fff;padding:48px 16px}.search-section[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;text-align:center}.search-section[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%]{font-size:2.5em;font-weight:300;margin:0 0 16px}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]   .search-title[_ngcontent-%COMP%]{font-size:2em}}.search-section[_ngcontent-%COMP%]   .search-subtitle[_ngcontent-%COMP%]{font-size:1.1em;opacity:.9;margin:0 0 32px}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]   .search-subtitle[_ngcontent-%COMP%]{font-size:1em}}.book-list-section[_ngcontent-%COMP%]   .book-list-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 16px}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]{padding:32px 16px}.book-list-section[_ngcontent-%COMP%]   .book-list-container[_ngcontent-%COMP%]{padding:0 8px}}.results-section[_ngcontent-%COMP%]{padding:32px 16px}.results-section[_ngcontent-%COMP%]   .results-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.results-section[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{margin-bottom:32px}.results-section[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8em;font-weight:400;margin:0 0 8px;color:#333}.results-section[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:#666;margin:0;font-size:.9em}.books-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px}@media (max-width: 768px){.books-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.book-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.book-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #00000026}.book-card[_ngcontent-%COMP%]   .book-title[_ngcontent-%COMP%]{font-size:1.1em;font-weight:500;line-height:1.3;margin-bottom:4px}.book-card[_ngcontent-%COMP%]   .book-authors[_ngcontent-%COMP%]{color:#666;font-size:.9em}.book-card[_ngcontent-%COMP%]   .book-thumbnail[_ngcontent-%COMP%]{max-height:200px;object-fit:cover;margin:16px auto;display:block}.book-card[_ngcontent-%COMP%]   .book-content[_ngcontent-%COMP%]   .book-description[_ngcontent-%COMP%]{font-size:.9em;line-height:1.5;color:#555;margin:0}.book-card[_ngcontent-%COMP%]   .book-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 16px}.no-results[_ngcontent-%COMP%]{text-align:center;padding:48px 16px;color:#666}.no-results[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:4em;width:1em;height:1em;opacity:.5;margin-bottom:16px}.no-results[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;font-weight:400;margin:0 0 8px}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9em}.loading-section[_ngcontent-%COMP%]{padding:48px 16px}.loading-section[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{text-align:center;padding:32px}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   .loading-icon[_ngcontent-%COMP%]{font-size:3em;width:1em;height:1em;color:#2196f3;margin-bottom:16px;animation:_ngcontent-%COMP%_spin 2s linear infinite}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;font-weight:400;margin:0 0 8px;color:#333}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9em}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.search-section[_ngcontent-%COMP%]{padding:32px 16px}.results-section[_ngcontent-%COMP%]{padding:24px 16px}.loading-section[_ngcontent-%COMP%]{padding:32px 16px}}@media (prefers-contrast: high){.book-card[_ngcontent-%COMP%]{border:2px solid #333}.results-summary[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#000}}@media (prefers-reduced-motion: reduce){.book-card[_ngcontent-%COMP%]{transition:none}.book-card[_ngcontent-%COMP%]:hover{transform:none}.loading-icon[_ngcontent-%COMP%]{animation:none}}.book-details-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.book-details-modal.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.book-details-modal[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;cursor:pointer}.book-details-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:8px;box-shadow:0 8px 32px #0003;max-width:90vw;max-height:90vh;overflow:auto;z-index:1001;animation:_ngcontent-%COMP%_modalSlideIn .3s ease}@keyframes _ngcontent-%COMP%_modalSlideIn{0%{transform:scale(.9) translateY(-20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}@media (max-width: 768px){.book-details-modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-width:95vw;max-height:95vh;margin:16px}}"]})};export{Yt as SearchPage};
